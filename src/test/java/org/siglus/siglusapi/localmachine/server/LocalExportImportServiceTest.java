/*
 * This program is part of the OpenLMIS logistics management information system platform software.
 * Copyright © 2017 VillageReach
 *
 * This program is free software: you can redistribute it and/or modify it under the terms
 * of the GNU Affero General Public License as published by the Free Software Foundation, either
 * version 3 of the License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;
 * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
 * See the GNU Affero General Public License for more details. You should have received a copy of
 * the GNU Affero General Public License along with this program. If not, see
 * http://www.gnu.org/licenses.  For additional information contact info@OpenLMIS.org.
 */

package org.siglus.siglusapi.localmachine.server;

import static org.mockito.BDDMockito.given;
import static org.mockito.Matchers.any;
import static org.mockito.Matchers.anyList;
import static org.mockito.Matchers.anySet;
import static org.mockito.Mockito.mock;
import static org.mockito.Mockito.verify;
import static org.mockito.Mockito.when;

import com.google.common.collect.Maps;
import com.google.common.collect.Sets;
import java.io.ByteArrayInputStream;
import java.io.File;
import java.io.IOException;
import java.io.InputStream;
import java.nio.file.Files;
import java.util.List;
import java.util.Map;
import java.util.UUID;
import javax.servlet.http.HttpServletResponse;
import org.assertj.core.util.Arrays;
import org.assertj.core.util.Lists;
import org.junit.Test;
import org.junit.runner.RunWith;
import org.mockito.InjectMocks;
import org.mockito.Mock;
import org.mockito.runners.MockitoJUnitRunner;
import org.siglus.siglusapi.dto.UserDto;
import org.siglus.siglusapi.exception.BusinessDataException;
import org.siglus.siglusapi.localmachine.Event;
import org.siglus.siglusapi.localmachine.EventImporter;
import org.siglus.siglusapi.localmachine.ExternalEventDto;
import org.siglus.siglusapi.localmachine.ExternalEventDtoMapper;
import org.siglus.siglusapi.localmachine.eventstore.EventStore;
import org.siglus.siglusapi.localmachine.eventstore.ExternalEventDtoSerializer;
import org.siglus.siglusapi.localmachine.io.ChecksumNotMatchedException;
import org.siglus.siglusapi.localmachine.io.EventFileReader;
import org.siglus.siglusapi.service.SiglusFacilityService;
import org.siglus.siglusapi.util.SiglusAuthenticationHelper;
import org.springframework.mock.web.MockHttpServletResponse;
import org.springframework.test.util.ReflectionTestUtils;
import org.springframework.web.multipart.MultipartFile;

@RunWith(MockitoJUnitRunner.class)
@SuppressWarnings({"checkstyle:LineLength", "PMD.UnusedPrivateField"})
public class LocalExportImportServiceTest {

  @InjectMocks
  private LocalExportImportService localExportImportService;

  @Mock
  private EventStore eventStore;
  @Mock
  private EventImporter eventImporter;
  @Mock
  private EventFileReader eventFileReader;
  @Mock
  private ExternalEventDtoSerializer externalEventDtoSerializer;
  @Mock
  private ExternalEventDtoMapper externalEventDtoMapper;
  @Mock
  private SiglusFacilityService siglusFacilityService;
  @Mock
  private SiglusAuthenticationHelper authenticationHelper;

  private final UUID receiverId1 = UUID.randomUUID();
  private final UUID receiverId2 = UUID.randomUUID();
  private final UUID homeFacilityId = UUID.randomUUID();
  private final UUID userId = UUID.randomUUID();
  private final String correctImput = "2754328345_{\"name\":\"java.util.ArrayList\",\"events\":\"W3siZXZlbnQiOnsiaWQiOiI2ZTg3ZjVhYS1mODU1LTRiNjAtYTBiMi04ODRmODI4MmQyMzYiLCJwcm90b2NvbFZlcnNpb24iOjEsImxvY2FsU2VxdWVuY2VOdW1iZXIiOjE5Nywib2NjdXJyZWRUaW1lIjoiMjAyMi0wOS0yM1QwNjoxOToxNS40NTRaIiwic2VuZGVySWQiOiJmNzkxM2U3ZC01NGQzLTRmZmUtODJjNi0zNWI1MmUyYmFiNTAiLCJyZWNlaXZlcklkIjoiZmZkOGM3ZDMtMDA3Ny00MzZmLTgwOGYtMDlkMDFkODJmZmNlIiwiZ3JvdXBJZCI6IkZVTEZJTEwtUk5SLU5PMDEwMTAxOTgwMDAwMDAyIiwiZ3JvdXBTZXF1ZW5jZU51bWJlciI6MCwicGF5bG9hZCI6eyJmaW5hbEFwcHJvdmVVc2VySWQiOiJiYWQzMmE2My02MDFlLTRlZDMtYTY2MS02MjE4MjIwOWE4MjUiLCJjb252ZXJ0VG9PcmRlclVzZXJJZCI6ImJhZDMyYTYzLTYwMWUtNGVkMy1hNjYxLTYyMTgyMjA5YTgyNSIsImZ1bGZpbGxVc2VySWQiOiJiYWQzMmE2My02MDFlLTRlZDMtYTY2MS02MjE4MjIwOWE4MjUiLCJzdXBwbGllckZhY2lsaXR5SWQiOiJmNzkxM2U3ZC01NGQzLTRmZmUtODJjNi0zNWI1MmUyYmFiNTAiLCJzaGlwbWVudEV4dGVuc2lvblJlcXVlc3QiOnsic2hpcG1lbnQiOnsiaWQiOiJiNDk1ZWJmNS0zZGE2LTRkYzYtOTk5OS04ZmQxNjBkNDFhNjkiLCJvcmRlciI6eyJpZCI6IjY3YWIzMGRlLWEyMzktNDg2Ni1iMTE4LTc0NGFhNDY4ODBlMCIsImV4dGVybmFsSWQiOiIyZWU2M2ZhOC04YjY2LTRkNTMtOTdhZS05NDJmODEyNzMzYTkiLCJlbWVyZ2VuY3kiOmZhbHNlLCJmYWNpbGl0eSI6eyJjb2RlIjoiMDEwMTAxOTgiLCJuYW1lIjoiUG9zdG8gZGUgU2HDumRlIGRvIEdydXBvIEFjb2xoaWRhIC0gTmlhc3NhIiwiZGVzY3JpcHRpb24iOiJQb3N0byBkZSBTYcO6ZGUgZG8gR3J1cG8gQWNvbGhpZGEgLSBOaWFzc2EiLCJhY3RpdmUiOnRydWUsImdvTGl2ZURhdGUiOm51bGwsImdvRG93bkRhdGUiOm51bGwsImNvbW1lbnQiOm51bGwsImVuYWJsZWQiOnRydWUsIm9wZW5MbWlzQWNjZXNzaWJsZSI6bnVsbCwic3VwcG9ydGVkUHJvZ3JhbXMiOlt7ImNvZGUiOiJNTCIsIm5hbWUiOiJNYWxhcmlhIiwiZGVzY3JpcHRpb24iOm51bGwsImFjdGl2ZSI6bnVsbCwicGVyaW9kc1NraXBwYWJsZSI6ZmFsc2UsInNob3dOb25GdWxsU3VwcGx5VGFiIjpmYWxzZSwic3VwcG9ydExvY2FsbHlGdWxmaWxsZWQiOnRydWUsImlkIjoiYWQ4YzlhNTQtY2M2Ni00Mzk1LWEzNTMtMTg0OWNhZWM4N2RhIn0seyJjb2RlIjoiVFIiLCJuYW1lIjoiVGVzdGVzIFLDoXBpZG9zIERpYWcuIiwiZGVzY3JpcHRpb24iOm51bGwsImFjdGl2ZSI6bnVsbCwicGVyaW9kc1NraXBwYWJsZSI6ZmFsc2UsInNob3dOb25GdWxsU3VwcGx5VGFiIjpmYWxzZSwic3VwcG9ydExvY2FsbHlGdWxmaWxsZWQiOnRydWUsImlkIjoiYTI0ZjE5YTgtMzc0My00YTFhLWE5MTktZThmOTdiNTcxOWFkIn0seyJjb2RlIjoiVEIiLCJuYW1lIjoiTVRCIiwiZGVzY3JpcHRpb24iOm51bGwsImFjdGl2ZSI6bnVsbCwicGVyaW9kc1NraXBwYWJsZSI6ZmFsc2UsInNob3dOb25GdWxsU3VwcGx5VGFiIjpmYWxzZSwic3VwcG9ydExvY2FsbHlGdWxmaWxsZWQiOnRydWUsImlkIjoiYmZmNTAzOTItMGE0Ni00ZGEzLThhZGMtZDQ3YTM3ZmI2YTlmIn0seyJjb2RlIjoiVCIsIm5hbWUiOiJUQVJWIiwiZGVzY3JpcHRpb24iOm51bGwsImFjdGl2ZSI6bnVsbCwicGVyaW9kc1NraXBwYWJsZSI6ZmFsc2UsInNob3dOb25GdWxsU3VwcGx5VGFiIjpmYWxzZSwic3VwcG9ydExvY2FsbHlGdWxmaWxsZWQiOnRydWUsImlkIjoiMTA4NDVjYjktZDM2NS00YWFhLWJhZGQtYjRmYTM5YzZhMjZhIn0seyJjb2RlIjoiVkMiLCJuYW1lIjoiVmlhIENsw6Fzc2ljYSIsImRlc2NyaXB0aW9uIjpudWxsLCJhY3RpdmUiOm51bGwsInBlcmlvZHNTa2lwcGFibGUiOmZhbHNlLCJzaG93Tm9uRnVsbFN1cHBseVRhYiI6ZmFsc2UsInN1cHBvcnRMb2NhbGx5RnVsZmlsbGVkIjp0cnVlLCJpZCI6ImRjZTE3ZjJlLWFmM2UtNDBhZC04ZTAwLTM0OTZhZGVmNDRjMyJ9XSwiZ2VvZ3JhcGhpY1pvbmUiOnsiY29kZSI6IjAxMDEiLCJuYW1lIjoiQ0lEQURFIERFIExJQ0hJTkdBQSIsImxldmVsIjp7ImNvZGUiOiJkaXN0cmljdCIsIm5hbWUiOiJEaXN0cmljdCIsImxldmVsTnVtYmVyIjozLCJpZCI6ImFjOGY1MGI0LWNmYWUtMTFlOS05Mzk4LTAyNDJhYzEzMDAwOCJ9LCJwYXJlbnQiOnsiY29kZSI6IjAxIiwibmFtZSI6Ik5JQVNTQSIsImxldmVsIjp7ImNvZGUiOiJwcm92aW5jZSIsIm5hbWUiOiJQcm92aW5jZSIsImxldmVsTnVtYmVyIjoyLCJpZCI6ImFjOGY0ZGVlLWNmYWUtMTFlOS05Mzk4LTAyNDJhYzEzMDAwOCJ9LCJwYXJlbnQiOnsiY29kZSI6Ik5SIiwibmFtZSI6Ik5PUlRFIiwibGV2ZWwiOnsiY29kZSI6Im5hdGlvbmFsIiwibmFtZSI6Ik5hdGlvbmFsIiwibGV2ZWxOdW1iZXIiOjEsImlkIjoiYWM4ZjQzZGEtY2ZhZS0xMWU5LTkzOTgtMDI0MmFjMTMwMDA4In0sInBhcmVudCI6bnVsbCwiaWQiOiJmNWQ1ZjkxZi0wNWRiLTRlN2QtYjhmYi02MTA5NGQ2NjYxOTMifSwiaWQiOiIzZjJlMjliOC1jZmFmLTExZTktOTM5OC0wMjQyYWMxMzAwMDgifSwiaWQiOiJmNDMyMjI4OS04NDUzLTRlNDYtYjQ5Ny1kZWJjZGQ3ODU5ODQifSwib3BlcmF0b3IiOm51bGwsInR5cGUiOnsiY29kZSI6IlBTIiwibmFtZSI6IlBTIC0gUG9zdG8gZGUgU2HDumRlIiwiZGVzY3JpcHRpb24iOm51bGwsImRpc3BsYXlPcmRlciI6OSwiYWN0aXZlIjp0cnVlLCJpZCI6ImI2MDZiNDllLWNmYWQtMTFlOS05Mzk4LTAyNDJhYzEzMDAwOCJ9LCJpZCI6ImZmZDhjN2QzLTAwNzctNDM2Zi04MDhmLTA5ZDAxZDgyZmZjZSJ9LCJwcm9jZXNzaW5nUGVyaW9kIjp7InByb2Nlc3NpbmdTY2hlZHVsZSI6eyJjb2RlIjoiTTEiLCJkZXNjcmlwdGlvbiI6Ik1vbnRobHkiLCJtb2RpZmllZERhdGUiOm51bGwsIm5hbWUiOiJNb250aGx5IiwiaWQiOiI3MjdiZWYyOC1kZTFjLTExZTktODc4NS0wMjQyYWMxMzAwMDcifSwibmFtZSI6IlNldGVtYnJvIDIwMjIiLCJkZXNjcmlwdGlvbiI6IjIxQWdvIC0gMjBTZXQiLCJzdGFydERhdGUiOiIyMDIyLTA4LTIxIiwiZW5kRGF0ZSI6IjIwMjItMDktMjAiLCJpZCI6IjQ1NGUzMjczLWM4ODItNDA4NS1hMTUzLWNkMTgzMjRmNWU1MyJ9LCJjcmVhdGVkRGF0ZSI6IjIwMjItMDktMjNUMDY6MTg6MjAuMzc2WiIsImNyZWF0ZWRCeSI6eyJ1c2VybmFtZSI6IkRETV9zaXFpX3JvbGUyIiwiZmlyc3ROYW1lIjoiRERNIiwibGFzdE5hbWUiOiJzaXFpIiwiZW1haWwiOm51bGwsInZlcmlmaWVkIjpmYWxzZSwiYWN0aXZlIjp0cnVlLCJob21lRmFjaWxpdHlJZCI6ImY3OTEzZTdkLTU0ZDMtNGZmZS04MmM2LTM1YjUyZTJiYWI1MCIsInJvbGVBc3NpZ25tZW50cyI6W3sicm9sZSI6bnVsbCwidXNlciI6bnVsbCwiaWQiOm51bGx9LHsicm9sZSI6bnVsbCwidXNlciI6bnVsbCwiaWQiOm51bGx9LHsicm9sZSI6bnVsbCwidXNlciI6bnVsbCwiaWQiOm51bGx9LHsicm9sZSI6bnVsbCwidXNlciI6bnVsbCwiaWQiOm51bGx9LHsicm9sZSI6bnVsbCwidXNlciI6bnVsbCwiaWQiOm51bGx9LHsicm9sZSI6bnVsbCwidXNlciI6bnVsbCwiaWQiOm51bGx9LHsicm9sZSI6bnVsbCwidXNlciI6bnVsbCwiaWQiOm51bGx9LHsicm9sZSI6bnVsbCwidXNlciI6bnVsbCwiaWQiOm51bGx9LHsicm9sZSI6bnVsbCwidXNlciI6bnVsbCwiaWQiOm51bGx9LHsicm9sZSI6bnVsbCwidXNlciI6bnVsbCwiaWQiOm51bGx9LHsicm9sZSI6bnVsbCwidXNlciI6bnVsbCwiaWQiOm51bGx9LHsicm9sZSI6bnVsbCwidXNlciI6bnVsbCwiaWQiOm51bGx9LHsicm9sZSI6bnVsbCwidXNlciI6bnVsbCwiaWQiOm51bGx9LHsicm9sZSI6bnVsbCwidXNlciI6bnVsbCwiaWQiOm51bGx9LHsicm9sZSI6bnVsbCwidXNlciI6bnVsbCwiaWQiOm51bGx9LHsicm9sZSI6bnVsbCwidXNlciI6bnVsbCwiaWQiOm51bGx9LHsicm9sZSI6bnVsbCwidXNlciI6bnVsbCwiaWQiOm51bGx9LHsicm9sZSI6bnVsbCwidXNlciI6bnVsbCwiaWQiOm51bGx9XSwiaWQiOiJiYWQzMmE2My02MDFlLTRlZDMtYTY2MS02MjE4MjIwOWE4MjUifSwicHJvZ3JhbSI6eyJjb2RlIjoiVkMiLCJuYW1lIjoiVmlhIENsw6Fzc2ljYSIsImRlc2NyaXB0aW9uIjpudWxsLCJhY3RpdmUiOnRydWUsInBlcmlvZHNTa2lwcGFibGUiOmZhbHNlLCJzaG93Tm9uRnVsbFN1cHBseVRhYiI6ZmFsc2UsInN1cHBvcnRMb2NhbGx5RnVsZmlsbGVkIjpmYWxzZSwiaWQiOiJkY2UxN2YyZS1hZjNlLTQwYWQtOGUwMC0zNDk2YWRlZjQ0YzMifSwicmVxdWVzdGluZ0ZhY2lsaXR5Ijp7ImNvZGUiOiIwMTAxMDE5OCIsIm5hbWUiOiJQb3N0byBkZSBTYcO6ZGUgZG8gR3J1cG8gQWNvbGhpZGEgLSBOaWFzc2EiLCJkZXNjcmlwdGlvbiI6IlBvc3RvIGRlIFNhw7pkZSBkbyBHcnVwbyBBY29saGlkYSAtIE5pYXNzYSIsImFjdGl2ZSI6dHJ1ZSwiZ29MaXZlRGF0ZSI6bnVsbCwiZ29Eb3duRGF0ZSI6bnVsbCwiY29tbWVudCI6bnVsbCwiZW5hYmxlZCI6dHJ1ZSwib3BlbkxtaXNBY2Nlc3NpYmxlIjpudWxsLCJzdXBwb3J0ZWRQcm9ncmFtcyI6W3siY29kZSI6Ik1MIiwibmFtZSI6Ik1hbGFyaWEiLCJkZXNjcmlwdGlvbiI6bnVsbCwiYWN0aXZlIjpudWxsLCJwZXJpb2RzU2tpcHBhYmxlIjpmYWxzZSwic2hvd05vbkZ1bGxTdXBwbHlUYWIiOmZhbHNlLCJzdXBwb3J0TG9jYWxseUZ1bGZpbGxlZCI6dHJ1ZSwiaWQiOiJhZDhjOWE1NC1jYzY2LTQzOTUtYTM1My0xODQ5Y2FlYzg3ZGEifSx7ImNvZGUiOiJUUiIsIm5hbWUiOiJUZXN0ZXMgUsOhcGlkb3MgRGlhZy4iLCJkZXNjcmlwdGlvbiI6bnVsbCwiYWN0aXZlIjpudWxsLCJwZXJpb2RzU2tpcHBhYmxlIjpmYWxzZSwic2hvd05vbkZ1bGxTdXBwbHlUYWIiOmZhbHNlLCJzdXBwb3J0TG9jYWxseUZ1bGZpbGxlZCI6dHJ1ZSwiaWQiOiJhMjRmMTlhOC0zNzQzLTRhMWEtYTkxOS1lOGY5N2I1NzE5YWQifSx7ImNvZGUiOiJUQiIsIm5hbWUiOiJNVEIiLCJkZXNjcmlwdGlvbiI6bnVsbCwiYWN0aXZlIjpudWxsLCJwZXJpb2RzU2tpcHBhYmxlIjpmYWxzZSwic2hvd05vbkZ1bGxTdXBwbHlUYWIiOmZhbHNlLCJzdXBwb3J0TG9jYWxseUZ1bGZpbGxlZCI6dHJ1ZSwiaWQiOiJiZmY1MDM5Mi0wYTQ2LTRkYTMtOGFkYy1kNDdhMzdmYjZhOWYifSx7ImNvZGUiOiJUIiwibmFtZSI6IlRBUlYiLCJkZXNjcmlwdGlvbiI6bnVsbCwiYWN0aXZlIjpudWxsLCJwZXJpb2RzU2tpcHBhYmxlIjpmYWxzZSwic2hvd05vbkZ1bGxTdXBwbHlUYWIiOmZhbHNlLCJzdXBwb3J0TG9jYWxseUZ1bGZpbGxlZCI6dHJ1ZSwiaWQiOiIxMDg0NWNiOS1kMzY1LTRhYWEtYmFkZC1iNGZhMzljNmEyNmEifSx7ImNvZGUiOiJWQyIsIm5hbWUiOiJWaWEgQ2zDoXNzaWNhIiwiZGVzY3JpcHRpb24iOm51bGwsImFjdGl2ZSI6bnVsbCwicGVyaW9kc1NraXBwYWJsZSI6ZmFsc2UsInNob3dOb25GdWxsU3VwcGx5VGFiIjpmYWxzZSwic3VwcG9ydExvY2FsbHlGdWxmaWxsZWQiOnRydWUsImlkIjoiZGNlMTdmMmUtYWYzZS00MGFkLThlMDAtMzQ5NmFkZWY0NGMzIn1dLCJnZW9ncmFwaGljWm9uZSI6eyJjb2RlIjoiMDEwMSIsIm5hbWUiOiJDSURBREUgREUgTElDSElOR0FBIiwibGV2ZWwiOnsiY29kZSI6ImRpc3RyaWN0IiwibmFtZSI6IkRpc3RyaWN0IiwibGV2ZWxOdW1iZXIiOjMsImlkIjoiYWM4ZjUwYjQtY2ZhZS0xMWU5LTkzOTgtMDI0MmFjMTMwMDA4In0sInBhcmVudCI6eyJjb2RlIjoiMDEiLCJuYW1lIjoiTklBU1NBIiwibGV2ZWwiOnsiY29kZSI6InByb3ZpbmNlIiwibmFtZSI6IlByb3ZpbmNlIiwibGV2ZWxOdW1iZXIiOjIsImlkIjoiYWM4ZjRkZWUtY2ZhZS0xMWU5LTkzOTgtMDI0MmFjMTMwMDA4In0sInBhcmVudCI6eyJjb2RlIjoiTlIiLCJuYW1lIjoiTk9SVEUiLCJsZXZlbCI6eyJjb2RlIjoibmF0aW9uYWwiLCJuYW1lIjoiTmF0aW9uYWwiLCJsZXZlbE51bWJlciI6MSwiaWQiOiJhYzhmNDNkYS1jZmFlLTExZTktOTM5OC0wMjQyYWMxMzAwMDgifSwicGFyZW50IjpudWxsLCJpZCI6ImY1ZDVmOTFmLTA1ZGItNGU3ZC1iOGZiLTYxMDk0ZDY2NjE5MyJ9LCJpZCI6IjNmMmUyOWI4LWNmYWYtMTFlOS05Mzk4LTAyNDJhYzEzMDAwOCJ9LCJpZCI6ImY0MzIyMjg5LTg0NTMtNGU0Ni1iNDk3LWRlYmNkZDc4NTk4NCJ9LCJvcGVyYXRvciI6bnVsbCwidHlwZSI6eyJjb2RlIjoiUFMiLCJuYW1lIjoiUFMgLSBQb3N0byBkZSBTYcO6ZGUiLCJkZXNjcmlwdGlvbiI6bnVsbCwiZGlzcGxheU9yZGVyIjo5LCJhY3RpdmUiOnRydWUsImlkIjoiYjYwNmI0OWUtY2ZhZC0xMWU5LTkzOTgtMDI0MmFjMTMwMDA4In0sImlkIjoiZmZkOGM3ZDMtMDA3Ny00MzZmLTgwOGYtMDlkMDFkODJmZmNlIn0sInJlY2VpdmluZ0ZhY2lsaXR5Ijp7ImNvZGUiOiIwMTAxMDE5OCIsIm5hbWUiOiJQb3N0byBkZSBTYcO6ZGUgZG8gR3J1cG8gQWNvbGhpZGEgLSBOaWFzc2EiLCJkZXNjcmlwdGlvbiI6IlBvc3RvIGRlIFNhw7pkZSBkbyBHcnVwbyBBY29saGlkYSAtIE5pYXNzYSIsImFjdGl2ZSI6dHJ1ZSwiZ29MaXZlRGF0ZSI6bnVsbCwiZ29Eb3duRGF0ZSI6bnVsbCwiY29tbWVudCI6bnVsbCwiZW5hYmxlZCI6dHJ1ZSwib3BlbkxtaXNBY2Nlc3NpYmxlIjpudWxsLCJzdXBwb3J0ZWRQcm9ncmFtcyI6W3siY29kZSI6Ik1MIiwibmFtZSI6Ik1hbGFyaWEiLCJkZXNjcmlwdGlvbiI6bnVsbCwiYWN0aXZlIjpudWxsLCJwZXJpb2RzU2tpcHBhYmxlIjpmYWxzZSwic2hvd05vbkZ1bGxTdXBwbHlUYWIiOmZhbHNlLCJzdXBwb3J0TG9jYWxseUZ1bGZpbGxlZCI6dHJ1ZSwiaWQiOiJhZDhjOWE1NC1jYzY2LTQzOTUtYTM1My0xODQ5Y2FlYzg3ZGEifSx7ImNvZGUiOiJUUiIsIm5hbWUiOiJUZXN0ZXMgUsOhcGlkb3MgRGlhZy4iLCJkZXNjcmlwdGlvbiI6bnVsbCwiYWN0aXZlIjpudWxsLCJwZXJpb2RzU2tpcHBhYmxlIjpmYWxzZSwic2hvd05vbkZ1bGxTdXBwbHlUYWIiOmZhbHNlLCJzdXBwb3J0TG9jYWxseUZ1bGZpbGxlZCI6dHJ1ZSwiaWQiOiJhMjRmMTlhOC0zNzQzLTRhMWEtYTkxOS1lOGY5N2I1NzE5YWQifSx7ImNvZGUiOiJUQiIsIm5hbWUiOiJNVEIiLCJkZXNjcmlwdGlvbiI6bnVsbCwiYWN0aXZlIjpudWxsLCJwZXJpb2RzU2tpcHBhYmxlIjpmYWxzZSwic2hvd05vbkZ1bGxTdXBwbHlUYWIiOmZhbHNlLCJzdXBwb3J0TG9jYWxseUZ1bGZpbGxlZCI6dHJ1ZSwiaWQiOiJiZmY1MDM5Mi0wYTQ2LTRkYTMtOGFkYy1kNDdhMzdmYjZhOWYifSx7ImNvZGUiOiJUIiwibmFtZSI6IlRBUlYiLCJkZXNjcmlwdGlvbiI6bnVsbCwiYWN0aXZlIjpudWxsLCJwZXJpb2RzU2tpcHBhYmxlIjpmYWxzZSwic2hvd05vbkZ1bGxTdXBwbHlUYWIiOmZhbHNlLCJzdXBwb3J0TG9jYWxseUZ1bGZpbGxlZCI6dHJ1ZSwiaWQiOiIxMDg0NWNiOS1kMzY1LTRhYWEtYmFkZC1iNGZhMzljNmEyNmEifSx7ImNvZGUiOiJWQyIsIm5hbWUiOiJWaWEgQ2zDoXNzaWNhIiwiZGVzY3JpcHRpb24iOm51bGwsImFjdGl2ZSI6bnVsbCwicGVyaW9kc1NraXBwYWJsZSI6ZmFsc2UsInNob3dOb25GdWxsU3VwcGx5VGFiIjpmYWxzZSwic3VwcG9ydExvY2FsbHlGdWxmaWxsZWQiOnRydWUsImlkIjoiZGNlMTdmMmUtYWYzZS00MGFkLThlMDAtMzQ5NmFkZWY0NGMzIn1dLCJnZW9ncmFwaGljWm9uZSI6eyJjb2RlIjoiMDEwMSIsIm5hbWUiOiJDSURBREUgREUgTElDSElOR0FBIiwibGV2ZWwiOnsiY29kZSI6ImRpc3RyaWN0IiwibmFtZSI6IkRpc3RyaWN0IiwibGV2ZWxOdW1iZXIiOjMsImlkIjoiYWM4ZjUwYjQtY2ZhZS0xMWU5LTkzOTgtMDI0MmFjMTMwMDA4In0sInBhcmVudCI6eyJjb2RlIjoiMDEiLCJuYW1lIjoiTklBU1NBIiwibGV2ZWwiOnsiY29kZSI6InByb3ZpbmNlIiwibmFtZSI6IlByb3ZpbmNlIiwibGV2ZWxOdW1iZXIiOjIsImlkIjoiYWM4ZjRkZWUtY2ZhZS0xMWU5LTkzOTgtMDI0MmFjMTMwMDA4In0sInBhcmVudCI6eyJjb2RlIjoiTlIiLCJuYW1lIjoiTk9SVEUiLCJsZXZlbCI6eyJjb2RlIjoibmF0aW9uYWwiLCJuYW1lIjoiTmF0aW9uYWwiLCJsZXZlbE51bWJlciI6MSwiaWQiOiJhYzhmNDNkYS1jZmFlLTExZTktOTM5OC0wMjQyYWMxMzAwMDgifSwicGFyZW50IjpudWxsLCJpZCI6ImY1ZDVmOTFmLTA1ZGItNGU3ZC1iOGZiLTYxMDk0ZDY2NjE5MyJ9LCJpZCI6IjNmMmUyOWI4LWNmYWYtMTFlOS05Mzk4LTAyNDJhYzEzMDAwOCJ9LCJpZCI6ImY0MzIyMjg5LTg0NTMtNGU0Ni1iNDk3LWRlYmNkZDc4NTk4NCJ9LCJvcGVyYXRvciI6bnVsbCwidHlwZSI6eyJjb2RlIjoiUFMiLCJuYW1lIjoiUFMgLSBQb3N0byBkZSBTYcO6ZGUiLCJkZXNjcmlwdGlvbiI6bnVsbCwiZGlzcGxheU9yZGVyIjo5LCJhY3RpdmUiOnRydWUsImlkIjoiYjYwNmI0OWUtY2ZhZC0xMWU5LTkzOTgtMDI0MmFjMTMwMDA4In0sImlkIjoiZmZkOGM3ZDMtMDA3Ny00MzZmLTgwOGYtMDlkMDFkODJmZmNlIn0sInN1cHBseWluZ0ZhY2lsaXR5Ijp7ImNvZGUiOiIwMjAxMDEwMSIsIm5hbWUiOiJERE0gZGUgQ2lkYWRlIGRlIExpY2hpbmdhIiwiZGVzY3JpcHRpb24iOiJERE0gZGUgQ2lkYWRlIGRlIExpY2hpbmdhIiwiYWN0aXZlIjp0cnVlLCJnb0xpdmVEYXRlIjpudWxsLCJnb0Rvd25EYXRlIjpudWxsLCJjb21tZW50IjpudWxsLCJlbmFibGVkIjp0cnVlLCJvcGVuTG1pc0FjY2Vzc2libGUiOm51bGwsInN1cHBvcnRlZFByb2dyYW1zIjpbeyJjb2RlIjoiTUwiLCJuYW1lIjoiTWFsYXJpYSIsImRlc2NyaXB0aW9uIjpudWxsLCJhY3RpdmUiOm51bGwsInBlcmlvZHNTa2lwcGFibGUiOmZhbHNlLCJzaG93Tm9uRnVsbFN1cHBseVRhYiI6ZmFsc2UsInN1cHBvcnRMb2NhbGx5RnVsZmlsbGVkIjp0cnVlLCJpZCI6ImFkOGM5YTU0LWNjNjYtNDM5NS1hMzUzLTE4NDljYWVjODdkYSJ9LHsiY29kZSI6IlRSIiwibmFtZSI6IlRlc3RlcyBSw6FwaWRvcyBEaWFnLiIsImRlc2NyaXB0aW9uIjpudWxsLCJhY3RpdmUiOm51bGwsInBlcmlvZHNTa2lwcGFibGUiOmZhbHNlLCJzaG93Tm9uRnVsbFN1cHBseVRhYiI6ZmFsc2UsInN1cHBvcnRMb2NhbGx5RnVsZmlsbGVkIjp0cnVlLCJpZCI6ImEyNGYxOWE4LTM3NDMtNGExYS1hOTE5LWU4Zjk3YjU3MTlhZCJ9LHsiY29kZSI6IlRCIiwibmFtZSI6Ik1UQiIsImRlc2NyaXB0aW9uIjpudWxsLCJhY3RpdmUiOm51bGwsInBlcmlvZHNTa2lwcGFibGUiOmZhbHNlLCJzaG93Tm9uRnVsbFN1cHBseVRhYiI6ZmFsc2UsInN1cHBvcnRMb2NhbGx5RnVsZmlsbGVkIjp0cnVlLCJpZCI6ImJmZjUwMzkyLTBhNDYtNGRhMy04YWRjLWQ0N2EzN2ZiNmE5ZiJ9LHsiY29kZSI6IlQiLCJuYW1lIjoiVEFSViIsImRlc2NyaXB0aW9uIjpudWxsLCJhY3RpdmUiOm51bGwsInBlcmlvZHNTa2lwcGFibGUiOmZhbHNlLCJzaG93Tm9uRnVsbFN1cHBseVRhYiI6ZmFsc2UsInN1cHBvcnRMb2NhbGx5RnVsZmlsbGVkIjp0cnVlLCJpZCI6IjEwODQ1Y2I5LWQzNjUtNGFhYS1iYWRkLWI0ZmEzOWM2YTI2YSJ9LHsiY29kZSI6IlZDIiwibmFtZSI6IlZpYSBDbMOhc3NpY2EiLCJkZXNjcmlwdGlvbiI6bnVsbCwiYWN0aXZlIjpudWxsLCJwZXJpb2RzU2tpcHBhYmxlIjpmYWxzZSwic2hvd05vbkZ1bGxTdXBwbHlUYWIiOmZhbHNlLCJzdXBwb3J0TG9jYWxseUZ1bGZpbGxlZCI6dHJ1ZSwiaWQiOiJkY2UxN2YyZS1hZjNlLTQwYWQtOGUwMC0zNDk2YWRlZjQ0YzMifV0sImdlb2dyYXBoaWNab25lIjp7ImNvZGUiOiIwMTAxIiwibmFtZSI6IkNJREFERSBERSBMSUNISU5HQUEiLCJsZXZlbCI6eyJjb2RlIjoiZGlzdHJpY3QiLCJuYW1lIjoiRGlzdHJpY3QiLCJsZXZlbE51bWJlciI6MywiaWQiOiJhYzhmNTBiNC1jZmFlLTExZTktOTM5OC0wMjQyYWMxMzAwMDgifSwicGFyZW50Ijp7ImNvZGUiOiIwMSIsIm5hbWUiOiJOSUFTU0EiLCJsZXZlbCI6eyJjb2RlIjoicHJvdmluY2UiLCJuYW1lIjoiUHJvdmluY2UiLCJsZXZlbE51bWJlciI6MiwiaWQiOiJhYzhmNGRlZS1jZmFlLTExZTktOTM5OC0wMjQyYWMxMzAwMDgifSwicGFyZW50Ijp7ImNvZGUiOiJOUiIsIm5hbWUiOiJOT1JURSIsImxldmVsIjp7ImNvZGUiOiJuYXRpb25hbCIsIm5hbWUiOiJOYXRpb25hbCIsImxldmVsTnVtYmVyIjoxLCJpZCI6ImFjOGY0M2RhLWNmYWUtMTFlOS05Mzk4LTAyNDJhYzEzMDAwOCJ9LCJwYXJlbnQiOm51bGwsImlkIjoiZjVkNWY5MWYtMDVkYi00ZTdkLWI4ZmItNjEwOTRkNjY2MTkzIn0sImlkIjoiM2YyZTI5YjgtY2ZhZi0xMWU5LTkzOTgtMDI0MmFjMTMwMDA4In0sImlkIjoiZjQzMjIyODktODQ1My00ZTQ2LWI0OTctZGViY2RkNzg1OTg0In0sIm9wZXJhdG9yIjpudWxsLCJ0eXBlIjp7ImNvZGUiOiJERE0iLCJuYW1lIjoiRERNIC0gRGVww7NzaXRvIERpc3RyaXRhbCBkZSBNZWRpY2FtZW50b3MiLCJkZXNjcmlwdGlvbiI6bnVsbCwiZGlzcGxheU9yZGVyIjoxLCJhY3RpdmUiOnRydWUsImlkIjoiYjYwNjljYTItY2ZhZC0xMWU5LTkzOTgtMDI0MmFjMTMwMDA4In0sImlkIjoiZjc5MTNlN2QtNTRkMy00ZmZlLTgyYzYtMzViNTJlMmJhYjUwIn0sIm9yZGVyQ29kZSI6Ik9SREVNLTJSWUY0M0xOUiIsInN0YXR1cyI6Ik9SREVSRUQiLCJxdW90ZWRDb3N0IjowLCJvcmRlckxpbmVJdGVtcyI6W3siaWQiOiI1MjY3NWYxYS0xODBhLTQ5MGEtYTUzMy1mOThmMWNiODBiMTIiLCJvcmRlcmFibGUiOnsiaWQiOiJkYWM2ZDllNi1kNDcyLTQ4YWUtYWJhOS1hZTg4MmU4MWEyOGUiLCJwcm9kdWN0Q29kZSI6IjI1QTA0IiwiZnVsbFByb2R1Y3ROYW1lIjoiUmVxdWlzaWNhbyBJbnRlcm5hIC8gQmFsYW5jZXRlOyBTZW0gRG9zYWdlbTsgUGFwZWwiLCJuZXRDb250ZW50IjoxLCJwYWNrUm91bmRpbmdUaHJlc2hvbGQiOjEsInJvdW5kVG9aZXJvIjpmYWxzZSwicHJvZ3JhbXMiOlt7InByb2dyYW1JZCI6ImRjZTE3ZjJlLWFmM2UtNDBhZC04ZTAwLTM0OTZhZGVmNDRjMyIsIm9yZGVyYWJsZURpc3BsYXlDYXRlZ29yeUlkIjoiNDBiNjY3NDYtMDFmNC0xMWViLWFmYTQtNGMzMjc1OTU1NGQ5Iiwib3JkZXJhYmxlQ2F0ZWdvcnlEaXNwbGF5TmFtZSI6IkRlZmF1bHQiLCJvcmRlcmFibGVDYXRlZ29yeURpc3BsYXlPcmRlciI6MCwiYWN0aXZlIjp0cnVlLCJmdWxsU3VwcGx5Ijp0cnVlLCJkaXNwbGF5T3JkZXIiOjAsImRvc2VzUGVyUGF0aWVudCI6bnVsbCwicHJpY2VQZXJQYWNrIjoxNjEuMjh9XSwiZGlzcGVuc2FibGUiOnsiZGlzcGVuc2luZ1VuaXQiOiJlYWNoIiwiZGlzcGxheVVuaXQiOiJlYWNoIn0sImV4dHJhRGF0YSI6eyJpc0Jhc2ljIjoidHJ1ZSJ9LCJtZXRhIjp7InZlcnNpb25OdW1iZXIiOjMsImxhc3RVcGRhdGVkIjoiMjAyMi0wOS0xM1QwNzo0Njo0OS41MDVaIn0sImlzS2l0IjpmYWxzZX0sIm9yZGVyZWRRdWFudGl0eSI6NTAsInRvdGFsRGlzcGVuc2luZ1VuaXRzIjo1MCwicGFydGlhbEZ1bGZpbGxlZFF1YW50aXR5IjowLCJza2lwcGVkIjpmYWxzZSwiYWRkZWQiOmZhbHNlfSx7ImlkIjoiOWI5YTM1ZjUtM2M1OC00NWRjLThkYmMtZWRhMmY1YzkzYzYyIiwib3JkZXJhYmxlIjp7ImlkIjoiZDFjMzNkMjAtYWU1MC00N2ZhLThkNzAtNTc5NzI0Y2U5M2JiIiwicHJvZHVjdENvZGUiOiIyNUMwMSIsImZ1bGxQcm9kdWN0TmFtZSI6Ik1hcGEgIE1lbnNhbCBkZSBURFJzOyBTZW0gRG9zYWdlbTsgUGFwZWwiLCJuZXRDb250ZW50IjoxLCJwYWNrUm91bmRpbmdUaHJlc2hvbGQiOjEsInJvdW5kVG9aZXJvIjpmYWxzZSwicHJvZ3JhbXMiOlt7InByb2dyYW1JZCI6ImRjZTE3ZjJlLWFmM2UtNDBhZC04ZTAwLTM0OTZhZGVmNDRjMyIsIm9yZGVyYWJsZURpc3BsYXlDYXRlZ29yeUlkIjoiNDBiNjY3NDYtMDFmNC0xMWViLWFmYTQtNGMzMjc1OTU1NGQ5Iiwib3JkZXJhYmxlQ2F0ZWdvcnlEaXNwbGF5TmFtZSI6IkRlZmF1bHQiLCJvcmRlcmFibGVDYXRlZ29yeURpc3BsYXlPcmRlciI6MCwiYWN0aXZlIjp0cnVlLCJmdWxsU3VwcGx5Ijp0cnVlLCJkaXNwbGF5T3JkZXIiOjAsImRvc2VzUGVyUGF0aWVudCI6bnVsbCwicHJpY2VQZXJQYWNrIjoyNy4zNn1dLCJkaXNwZW5zYWJsZSI6eyJkaXNwZW5zaW5nVW5pdCI6ImVhY2giLCJkaXNwbGF5VW5pdCI6ImVhY2gifSwiZXh0cmFEYXRhIjp7ImlzQmFzaWMiOiJ0cnVlIn0sIm1ldGEiOnsidmVyc2lvbk51bWJlciI6MywibGFzdFVwZGF0ZWQiOiIyMDIyLTA5LTEzVDA3OjQ1OjMxLjg1NFoifSwiaXNLaXQiOmZhbHNlfSwib3JkZXJlZFF1YW50aXR5Ijo1MCwidG90YWxEaXNwZW5zaW5nVW5pdHMiOjUwLCJwYXJ0aWFsRnVsZmlsbGVkUXVhbnRpdHkiOjAsInNraXBwZWQiOmZhbHNlLCJhZGRlZCI6ZmFsc2V9LHsiaWQiOiI4ZDhiZjU0Yi01OTZjLTRjYWUtYWI4My1lNjUxYTFiNTE2OTYiLCJvcmRlcmFibGUiOnsiaWQiOiJiMTIzNmM2OC1hN2IxLTQxMDEtYWE5Yy0wMDA2ZjA2ZDBlZWIiLCJwcm9kdWN0Q29kZSI6IjI1QjA2IiwiZnVsbFByb2R1Y3ROYW1lIjoiTWFwYSBNZW5zYWwgRGlzdHJpdGFsIGRlIENvbnN1bW8gZGUgQUw7IFNlbSBEb3NhZ2VtOyBQYXBlbCIsIm5ldENvbnRlbnQiOjEsInBhY2tSb3VuZGluZ1RocmVzaG9sZCI6MSwicm91bmRUb1plcm8iOmZhbHNlLCJwcm9ncmFtcyI6W3sicHJvZ3JhbUlkIjoiZGNlMTdmMmUtYWYzZS00MGFkLThlMDAtMzQ5NmFkZWY0NGMzIiwib3JkZXJhYmxlRGlzcGxheUNhdGVnb3J5SWQiOiI0MGI2Njc0Ni0wMWY0LTExZWItYWZhNC00YzMyNzU5NTU0ZDkiLCJvcmRlcmFibGVDYXRlZ29yeURpc3BsYXlOYW1lIjoiRGVmYXVsdCIsIm9yZGVyYWJsZUNhdGVnb3J5RGlzcGxheU9yZGVyIjowLCJhY3RpdmUiOnRydWUsImZ1bGxTdXBwbHkiOnRydWUsImRpc3BsYXlPcmRlciI6MCwiZG9zZXNQZXJQYXRpZW50IjpudWxsLCJwcmljZVBlclBhY2siOm51bGx9XSwiZGlzcGVuc2FibGUiOnsiZGlzcGVuc2luZ1VuaXQiOiJlYWNoIiwiZGlzcGxheVVuaXQiOiJlYWNoIn0sImV4dHJhRGF0YSI6eyJpc0Jhc2ljIjoidHJ1ZSJ9LCJtZXRhIjp7InZlcnNpb25OdW1iZXIiOjIsImxhc3RVcGRhdGVkIjoiMjAyMi0wNy0yMVQwNjo0NjoxNS4wNThaIn0sImlzS2l0IjpmYWxzZX0sIm9yZGVyZWRRdWFudGl0eSI6NTAsInRvdGFsRGlzcGVuc2luZ1VuaXRzIjo1MCwicGFydGlhbEZ1bGZpbGxlZFF1YW50aXR5IjowLCJza2lwcGVkIjpmYWxzZSwiYWRkZWQiOmZhbHNlfSx7ImlkIjoiNDUwMmM1NjYtZDhiOS00YThjLTgwNDEtOWMyYTY0NGYxMDQ0Iiwib3JkZXJhYmxlIjp7ImlkIjoiNjNiOGEwYmMtNTQyNy00NmU1LWI5NTEtNzMyZDdiMWQ1YzFkIiwicHJvZHVjdENvZGUiOiIyNUIwNyIsImZ1bGxQcm9kdWN0TmFtZSI6Ik1hcGEgZGUgIFJlc3VtbyBNZW5zYWwgZGUgRGVwb3NpdG8gQUw7IFNlbSBEb3NhZ2VtOyBQYXBlbCIsIm5ldENvbnRlbnQiOjEsInBhY2tSb3VuZGluZ1RocmVzaG9sZCI6MSwicm91bmRUb1plcm8iOmZhbHNlLCJwcm9ncmFtcyI6W3sicHJvZ3JhbUlkIjoiZGNlMTdmMmUtYWYzZS00MGFkLThlMDAtMzQ5NmFkZWY0NGMzIiwib3JkZXJhYmxlRGlzcGxheUNhdGVnb3J5SWQiOiI0MGI2Njc0Ni0wMWY0LTExZWItYWZhNC00YzMyNzU5NTU0ZDkiLCJvcmRlcmFibGVDYXRlZ29yeURpc3BsYXlOYW1lIjoiRGVmYXVsdCIsIm9yZGVyYWJsZUNhdGVnb3J5RGlzcGxheU9yZGVyIjowLCJhY3RpdmUiOnRydWUsImZ1bGxTdXBwbHkiOnRydWUsImRpc3BsYXlPcmRlciI6MCwiZG9zZXNQZXJQYXRpZW50IjpudWxsLCJwcmljZVBlclBhY2siOjI0LjQ4fV0sImRpc3BlbnNhYmxlIjp7ImRpc3BlbnNpbmdVbml0IjoiZWFjaCIsImRpc3BsYXlVbml0IjoiZWFjaCJ9LCJleHRyYURhdGEiOnsiaXNCYXNpYyI6InRydWUifSwibWV0YSI6eyJ2ZXJzaW9uTnVtYmVyIjozLCJsYXN0VXBkYXRlZCI6IjIwMjItMDktMTNUMDc6NDc6MjkuMDgzWiJ9LCJpc0tpdCI6ZmFsc2V9LCJvcmRlcmVkUXVhbnRpdHkiOjUwLCJ0b3RhbERpc3BlbnNpbmdVbml0cyI6NTAsInBhcnRpYWxGdWxmaWxsZWRRdWFudGl0eSI6MCwic2tpcHBlZCI6ZmFsc2UsImFkZGVkIjpmYWxzZX1dLCJzdGF0dXNNZXNzYWdlcyI6W10sInN0YXR1c0NoYW5nZXMiOlt7InN0YXR1cyI6IklOX0FQUFJPVkFMIiwiYXV0aG9ySWQiOiI3OWYzYTMxZi1mYzI2LTQ2NDAtYWY4Zi00OGIxYzMyMmExNGUiLCJjcmVhdGVkRGF0ZSI6IjIwMjItMDktMjNUMDY6MTY6NDQuMDM5WiJ9LHsic3RhdHVzIjoiQVBQUk9WRUQiLCJhdXRob3JJZCI6ImJhZDMyYTYzLTYwMWUtNGVkMy1hNjYxLTYyMTgyMjA5YTgyNSIsImNyZWF0ZWREYXRlIjoiMjAyMi0wOS0yM1QwNjoxNzozNC4wMTdaIn0seyJzdGF0dXMiOiJJTklUSUFURUQiLCJhdXRob3JJZCI6ImQ4NTk3ZTBiLTQzYzAtNDBkNi1hY2MyLTAwNjc1YjIwZTVjMCIsImNyZWF0ZWREYXRlIjoiMjAyMi0wOS0yM1QwNjoxMjo1Mi43NloifSx7InN0YXR1cyI6IlJFTEVBU0VEIiwiYXV0aG9ySWQiOiJiYWQzMmE2My02MDFlLTRlZDMtYTY2MS02MjE4MjIwOWE4MjUiLCJjcmVhdGVkRGF0ZSI6IjIwMjItMDktMjNUMDY6MTg6MjAuMDU4WiJ9LHsic3RhdHVzIjoiU1VCTUlUVEVEIiwiYXV0aG9ySWQiOiJkODU5N2UwYi00M2MwLTQwZDYtYWNjMi0wMDY3NWIyMGU1YzAiLCJjcmVhdGVkRGF0ZSI6IjIwMjItMDktMjNUMDY6MTM6MzMuNTcyWiJ9LHsic3RhdHVzIjoiQVVUSE9SSVpFRCIsImF1dGhvcklkIjoiZTgwNjI0MDItODZkMC00YzYyLWFkNmMtODVlNTgzNWJhZWU5IiwiY3JlYXRlZERhdGUiOiIyMDIyLTA5LTIzVDA2OjE1OjA5LjI5WiJ9XSwibGFzdFVwZGF0ZXIiOnsiaWQiOiJiYWQzMmE2My02MDFlLTRlZDMtYTY2MS02MjE4MjIwOWE4MjUiLCJocmVmIjoibnVsbC9hcGkvdXNlcnMvYmFkMzJhNjMtNjAxZS00ZWQzLWE2NjEtNjIxODIyMDlhODI1In0sImxhc3RVcGRhdGVkRGF0ZSI6IjIwMjItMDktMjNUMDY6MTg6MjAuMzJaIiwicmVxdWlzaXRpb25OdW1iZXIiOiJSTlItTk8wMTAxMDE5ODAwMDAwMDIifSwic2hpcHBlZEJ5IjpudWxsLCJzaGlwcGVkRGF0ZSI6bnVsbCwibm90ZXMiOm51bGwsImxpbmVJdGVtcyI6W3siaWQiOiI2ZDhlNWIyMC1mNGMxLTRiZWQtODEwNS01YWFmMmM4YWJhOTQiLCJsb3QiOnsiaWQiOiI3NDRiYmZmOC1lMWVhLTUwNGItODk1My0wMWMyODBmOTNlMWMiLCJocmVmIjoiaHR0cDovL2Rldi5zaWdsdXMudXMuaW50ZXJuYWwvYXBpL2xvdHMvNzQ0YmJmZjgtZTFlYS01MDRiLTg5NTMtMDFjMjgwZjkzZTFjIn0sImxvY2F0aW9uIjpudWxsLCJxdWFudGl0eVNoaXBwZWQiOjEwLCJleHRyYURhdGEiOm51bGwsIm9yZGVyYWJsZSI6eyJpZCI6ImRhYzZkOWU2LWQ0NzItNDhhZS1hYmE5LWFlODgyZTgxYTI4ZSIsImhyZWYiOiJodHRwOi8vZGV2LnNpZ2x1cy51cy5pbnRlcm5hbC9hcGkvb3JkZXJhYmxlcy9kYWM2ZDllNi1kNDcyLTQ4YWUtYWJhOS1hZTg4MmU4MWEyOGUiLCJ2ZXJzaW9uTnVtYmVyIjozfX0seyJpZCI6IjI2OGQ0MGI4LWRkMmYtNDc2ZC05ODRjLTRlZjJmMzI3ZmZiMyIsImxvdCI6eyJpZCI6ImM2NjE3MTU5LWQwOGUtNWRiYy1iMWJlLWU2ZmJlMDk2MTZhNCIsImhyZWYiOiJodHRwOi8vZGV2LnNpZ2x1cy51cy5pbnRlcm5hbC9hcGkvbG90cy9jNjYxNzE1OS1kMDhlLTVkYmMtYjFiZS1lNmZiZTA5NjE2YTQifSwibG9jYXRpb24iOm51bGwsInF1YW50aXR5U2hpcHBlZCI6MjAsImV4dHJhRGF0YSI6bnVsbCwib3JkZXJhYmxlIjp7ImlkIjoiZDFjMzNkMjAtYWU1MC00N2ZhLThkNzAtNTc5NzI0Y2U5M2JiIiwiaHJlZiI6Imh0dHA6Ly9kZXYuc2lnbHVzLnVzLmludGVybmFsL2FwaS9vcmRlcmFibGVzL2QxYzMzZDIwLWFlNTAtNDdmYS04ZDcwLTU3OTcyNGNlOTNiYiIsInZlcnNpb25OdW1iZXIiOjN9fSx7ImlkIjoiMWEyZGE3YzctMGMyNi00NDM3LTgxMDUtZDkzNDNjZjRlYjA5IiwibG90Ijp7ImlkIjoiNDY3ZjcwZTQtOTRmNC01N2UwLTgzYWItNjU0MGI2ODk2M2E1IiwiaHJlZiI6Imh0dHA6Ly9kZXYuc2lnbHVzLnVzLmludGVybmFsL2FwaS9sb3RzLzQ2N2Y3MGU0LTk0ZjQtNTdlMC04M2FiLTY1NDBiNjg5NjNhNSJ9LCJsb2NhdGlvbiI6bnVsbCwicXVhbnRpdHlTaGlwcGVkIjowLCJleHRyYURhdGEiOm51bGwsIm9yZGVyYWJsZSI6eyJpZCI6ImIxMjM2YzY4LWE3YjEtNDEwMS1hYTljLTAwMDZmMDZkMGVlYiIsImhyZWYiOiJodHRwOi8vZGV2LnNpZ2x1cy51cy5pbnRlcm5hbC9hcGkvb3JkZXJhYmxlcy9iMTIzNmM2OC1hN2IxLTQxMDEtYWE5Yy0wMDA2ZjA2ZDBlZWIiLCJ2ZXJzaW9uTnVtYmVyIjoyfX0seyJpZCI6IjVjMGU3ZWVlLWIzZjMtNDZhMC1hMzg2LTc1Yjc2ZDUxMjllYiIsImxvdCI6eyJpZCI6ImI5MWQ2MGRmLWE3ZWMtNWMzMS05MjI1LThiZTQzZWY3ZmFiMiIsImhyZWYiOiJodHRwOi8vZGV2LnNpZ2x1cy51cy5pbnRlcm5hbC9hcGkvbG90cy9iOTFkNjBkZi1hN2VjLTVjMzEtOTIyNS04YmU0M2VmN2ZhYjIifSwibG9jYXRpb24iOm51bGwsInF1YW50aXR5U2hpcHBlZCI6MCwiZXh0cmFEYXRhIjpudWxsLCJvcmRlcmFibGUiOnsiaWQiOiI2M2I4YTBiYy01NDI3LTQ2ZTUtYjk1MS03MzJkN2IxZDVjMWQiLCJocmVmIjoiaHR0cDovL2Rldi5zaWdsdXMudXMuaW50ZXJuYWwvYXBpL29yZGVyYWJsZXMvNjNiOGEwYmMtNTQyNy00NmU1LWI5NTEtNzMyZDdiMWQ1YzFkIiwidmVyc2lvbk51bWJlciI6M319XSwiZXh0cmFEYXRhIjpudWxsLCJyb3dzV2l0aFVucmVzb2x2ZWRPcmRlcmFibGUiOm51bGx9LCJwcmVwYXJlZEJ5IjoicHJlcGFyZWQxIiwiY29uZmVycmVkQnkiOiJjb25mZXJyZWQyIn0sImNvbnZlcnRUb09yZGVyUmVxdWVzdCI6eyJyZXF1aXNpdGlvbk51bWJlciI6IlJOUi1OTzAxMDEwMTk4MDAwMDAwMiIsInJlcXVpc2l0aW9uTGluZUl0ZW1zIjpbeyJvcmRlcmFibGUiOnsiaWQiOiJkYWM2ZDllNi1kNDcyLTQ4YWUtYWJhOS1hZTg4MmU4MWEyOGUiLCJ2ZXJzaW9uTnVtYmVyIjozfSwiYXBwcm92ZWRRdWFudGl0eSI6NTB9LHsib3JkZXJhYmxlIjp7ImlkIjoiZDFjMzNkMjAtYWU1MC00N2ZhLThkNzAtNTc5NzI0Y2U5M2JiIiwidmVyc2lvbk51bWJlciI6M30sImFwcHJvdmVkUXVhbnRpdHkiOjUwfSx7Im9yZGVyYWJsZSI6eyJpZCI6ImIxMjM2YzY4LWE3YjEtNDEwMS1hYTljLTAwMDZmMDZkMGVlYiIsInZlcnNpb25OdW1iZXIiOjJ9LCJhcHByb3ZlZFF1YW50aXR5Ijo1MH0seyJvcmRlcmFibGUiOnsiaWQiOiI2M2I4YTBiYy01NDI3LTQ2ZTUtYjk1MS03MzJkN2IxZDVjMWQiLCJ2ZXJzaW9uTnVtYmVyIjozfSwiYXBwcm92ZWRRdWFudGl0eSI6NTB9XSwiZmlyc3RPcmRlciI6eyJpZCI6IjY3YWIzMGRlLWEyMzktNDg2Ni1iMTE4LTc0NGFhNDY4ODBlMCIsImV4dGVybmFsSWQiOiIyZWU2M2ZhOC04YjY2LTRkNTMtOTdhZS05NDJmODEyNzMzYTkiLCJlbWVyZ2VuY3kiOmZhbHNlLCJmYWNpbGl0eUlkIjoiZmZkOGM3ZDMtMDA3Ny00MzZmLTgwOGYtMDlkMDFkODJmZmNlIiwicHJvY2Vzc2luZ1BlcmlvZElkIjoiNDU0ZTMyNzMtYzg4Mi00MDg1LWExNTMtY2QxODMyNGY1ZTUzIiwiY3JlYXRlZERhdGUiOiIyMDIyLTA5LTIzVDA2OjE4OjIwLjM3NloiLCJjcmVhdGVkQnlJZCI6ImJhZDMyYTYzLTYwMWUtNGVkMy1hNjYxLTYyMTgyMjA5YTgyNSIsInByb2dyYW1JZCI6ImRjZTE3ZjJlLWFmM2UtNDBhZC04ZTAwLTM0OTZhZGVmNDRjMyIsInJlcXVlc3RpbmdGYWNpbGl0eUlkIjoiZmZkOGM3ZDMtMDA3Ny00MzZmLTgwOGYtMDlkMDFkODJmZmNlIiwicmVjZWl2aW5nRmFjaWxpdHlJZCI6ImZmZDhjN2QzLTAwNzctNDM2Zi04MDhmLTA5ZDAxZDgyZmZjZSIsInN1cHBseWluZ0ZhY2lsaXR5SWQiOiJmNzkxM2U3ZC01NGQzLTRmZmUtODJjNi0zNWI1MmUyYmFiNTAiLCJvcmRlckNvZGUiOiJPUkRFTS0yUllGNDNMTlIiLCJzdGF0dXMiOiJGVUxGSUxMSU5HIiwicXVvdGVkQ29zdCI6MC4wMCwib3JkZXJMaW5lSXRlbXMiOlt7ImlkIjoiNTI2NzVmMWEtMTgwYS00OTBhLWE1MzMtZjk4ZjFjYjgwYjEyIiwib3JkZXIiOiI2N2FiMzBkZS1hMjM5LTQ4NjYtYjExOC03NDRhYTQ2ODgwZTAiLCJvcmRlcmFibGUiOnsiaWQiOiJkYWM2ZDllNi1kNDcyLTQ4YWUtYWJhOS1hZTg4MmU4MWEyOGUiLCJ2ZXJzaW9uTnVtYmVyIjozfSwib3JkZXJlZFF1YW50aXR5Ijo1MH0seyJpZCI6IjliOWEzNWY1LTNjNTgtNDVkYy04ZGJjLWVkYTJmNWM5M2M2MiIsIm9yZGVyIjoiNjdhYjMwZGUtYTIzOS00ODY2LWIxMTgtNzQ0YWE0Njg4MGUwIiwib3JkZXJhYmxlIjp7ImlkIjoiZDFjMzNkMjAtYWU1MC00N2ZhLThkNzAtNTc5NzI0Y2U5M2JiIiwidmVyc2lvbk51bWJlciI6M30sIm9yZGVyZWRRdWFudGl0eSI6NTB9LHsiaWQiOiI4ZDhiZjU0Yi01OTZjLTRjYWUtYWI4My1lNjUxYTFiNTE2OTYiLCJvcmRlciI6IjY3YWIzMGRlLWEyMzktNDg2Ni1iMTE4LTc0NGFhNDY4ODBlMCIsIm9yZGVyYWJsZSI6eyJpZCI6ImIxMjM2YzY4LWE3YjEtNDEwMS1hYTljLTAwMDZmMDZkMGVlYiIsInZlcnNpb25OdW1iZXIiOjJ9LCJvcmRlcmVkUXVhbnRpdHkiOjUwfSx7ImlkIjoiNDUwMmM1NjYtZDhiOS00YThjLTgwNDEtOWMyYTY0NGYxMDQ0Iiwib3JkZXIiOiI2N2FiMzBkZS1hMjM5LTQ4NjYtYjExOC03NDRhYTQ2ODgwZTAiLCJvcmRlcmFibGUiOnsiaWQiOiI2M2I4YTBiYy01NDI3LTQ2ZTUtYjk1MS03MzJkN2IxZDVjMWQiLCJ2ZXJzaW9uTnVtYmVyIjozfSwib3JkZXJlZFF1YW50aXR5Ijo1MH1dLCJzdGF0dXNNZXNzYWdlcyI6W10sInN0YXR1c0NoYW5nZXMiOlt7ImlkIjoiODRiNGZjMzQtZDI3YS00ZGU3LTg0N2YtYmY5NzMxYTgxMmYyIiwib3JkZXIiOiI2N2FiMzBkZS1hMjM5LTQ4NjYtYjExOC03NDRhYTQ2ODgwZTAiLCJzdGF0dXMiOiJJTl9BUFBST1ZBTCIsImF1dGhvcklkIjoiNzlmM2EzMWYtZmMyNi00NjQwLWFmOGYtNDhiMWMzMjJhMTRlIiwiY3JlYXRlZERhdGUiOiIyMDIyLTA5LTIzVDA2OjE2OjQ0LjAzOVoifSx7ImlkIjoiNTYxNTRmMzItYTU4Ni00NTBiLWJlN2MtOTJkYTU2MDlmZGQ5Iiwib3JkZXIiOiI2N2FiMzBkZS1hMjM5LTQ4NjYtYjExOC03NDRhYTQ2ODgwZTAiLCJzdGF0dXMiOiJBUFBST1ZFRCIsImF1dGhvcklkIjoiYmFkMzJhNjMtNjAxZS00ZWQzLWE2NjEtNjIxODIyMDlhODI1IiwiY3JlYXRlZERhdGUiOiIyMDIyLTA5LTIzVDA2OjE3OjM0LjAxN1oifSx7ImlkIjoiNzRiMjcxOGItMjViZS00YmM0LWI0YmMtYmNmMDY3ODBmZWFjIiwib3JkZXIiOiI2N2FiMzBkZS1hMjM5LTQ4NjYtYjExOC03NDRhYTQ2ODgwZTAiLCJzdGF0dXMiOiJJTklUSUFURUQiLCJhdXRob3JJZCI6ImQ4NTk3ZTBiLTQzYzAtNDBkNi1hY2MyLTAwNjc1YjIwZTVjMCIsImNyZWF0ZWREYXRlIjoiMjAyMi0wOS0yM1QwNjoxMjo1Mi43NloifSx7ImlkIjoiODIzNzUyNGUtZDc3OS00MjNmLWIyYzAtNmEwNDJlMTNlZTg4Iiwib3JkZXIiOiI2N2FiMzBkZS1hMjM5LTQ4NjYtYjExOC03NDRhYTQ2ODgwZTAiLCJzdGF0dXMiOiJSRUxFQVNFRCIsImF1dGhvcklkIjoiYmFkMzJhNjMtNjAxZS00ZWQzLWE2NjEtNjIxODIyMDlhODI1IiwiY3JlYXRlZERhdGUiOiIyMDIyLTA5LTIzVDA2OjE4OjIwLjA1OFoifSx7ImlkIjoiODE4ZmE3NWMtZmI3Yi00ZjMwLThmNzMtZGNjOGViOTUxNzMzIiwib3JkZXIiOiI2N2FiMzBkZS1hMjM5LTQ4NjYtYjExOC03NDRhYTQ2ODgwZTAiLCJzdGF0dXMiOiJTVUJNSVRURUQiLCJhdXRob3JJZCI6ImQ4NTk3ZTBiLTQzYzAtNDBkNi1hY2MyLTAwNjc1YjIwZTVjMCIsImNyZWF0ZWREYXRlIjoiMjAyMi0wOS0yM1QwNjoxMzozMy41NzJaIn0seyJpZCI6IjlhZDU0MDc4LTliNjEtNGY1Ny1hNTA1LWM2ZDMxMzg1YmMwMiIsIm9yZGVyIjoiNjdhYjMwZGUtYTIzOS00ODY2LWIxMTgtNzQ0YWE0Njg4MGUwIiwic3RhdHVzIjoiQVVUSE9SSVpFRCIsImF1dGhvcklkIjoiZTgwNjI0MDItODZkMC00YzYyLWFkNmMtODVlNTgzNWJhZWU5IiwiY3JlYXRlZERhdGUiOiIyMDIyLTA5LTIzVDA2OjE1OjA5LjI5WiJ9XSwidXBkYXRlRGV0YWlscyI6eyJ1cGRhdGVySWQiOiJiYWQzMmE2My02MDFlLTRlZDMtYTY2MS02MjE4MjIwOWE4MjUiLCJ1cGRhdGVkRGF0ZSI6IjIwMjItMDktMjNUMDY6MTg6MzIuNDc0WiJ9LCJvcmRlcmVkIjpmYWxzZSwiZXh0ZXJuYWwiOmZhbHNlfX0sIm5lZWRDb252ZXJ0VG9PcmRlciI6dHJ1ZSwiaXNTdWJPcmRlciI6dHJ1ZSwiaXNXaXRoTG9jYXRpb24iOmZhbHNlfSwib25saW5lV2ViU3luY2VkIjpmYWxzZSwicmVjZWl2ZXJTeW5jZWQiOmZhbHNlLCJsb2NhbFJlcGxheWVkIjp0cnVlfSwicGF5bG9hZENsYXNzTmFtZSI6Ik9yZGVyRnVsZmlsbG1lbnRTeW5jZWRFdmVudCJ9XQ==\"}";
  private final String wrongImput = "1_{\"name\":\"java.util.ArrayList\",\"events\":\"W3siZXZlbnQiOnsiaWQiOiI2ZTg3ZjVhYS1mODU1LTRiNjAtYTBiMi04ODRmODI4MmQyMzYiLCJwcm90b2NvbFZlcnNpb24iOjEsImxvY2FsU2VxdWVuY2VOdW1iZXIiOjE5Nywib2NjdXJyZWRUaW1lIjoiMjAyMi0wOS0yM1QwNjoxOToxNS40NTRaIiwic2VuZGVySWQiOiJmNzkxM2U3ZC01NGQzLTRmZmUtODJjNi0zNWI1MmUyYmFiNTAiLCJyZWNlaXZlcklkIjoiZmZkOGM3ZDMtMDA3Ny00MzZmLTgwOGYtMDlkMDFkODJmZmNlIiwiZ3JvdXBJZCI6IkZVTEZJTEwtUk5SLU5PMDEwMTAxOTgwMDAwMDAyIiwiZ3JvdXBTZXF1ZW5jZU51bWJlciI6MCwicGF5bG9hZCI6eyJmaW5hbEFwcHJvdmVVc2VySWQiOiJiYWQzMmE2My02MDFlLTRlZDMtYTY2MS02MjE4MjIwOWE4MjUiLCJjb252ZXJ0VG9PcmRlclVzZXJJZCI6ImJhZDMyYTYzLTYwMWUtNGVkMy1hNjYxLTYyMTgyMjA5YTgyNSIsImZ1bGZpbGxVc2VySWQiOiJiYWQzMmE2My02MDFlLTRlZDMtYTY2MS02MjE4MjIwOWE4MjUiLCJzdXBwbGllckZhY2lsaXR5SWQiOiJmNzkxM2U3ZC01NGQzLTRmZmUtODJjNi0zNWI1MmUyYmFiNTAiLCJzaGlwbWVudEV4dGVuc2lvblJlcXVlc3QiOnsic2hpcG1lbnQiOnsiaWQiOiJiNDk1ZWJmNS0zZGE2LTRkYzYtOTk5OS04ZmQxNjBkNDFhNjkiLCJvcmRlciI6eyJpZCI6IjY3YWIzMGRlLWEyMzktNDg2Ni1iMTE4LTc0NGFhNDY4ODBlMCIsImV4dGVybmFsSWQiOiIyZWU2M2ZhOC04YjY2LTRkNTMtOTdhZS05NDJmODEyNzMzYTkiLCJlbWVyZ2VuY3kiOmZhbHNlLCJmYWNpbGl0eSI6eyJjb2RlIjoiMDEwMTAxOTgiLCJuYW1lIjoiUG9zdG8gZGUgU2HDumRlIGRvIEdydXBvIEFjb2xoaWRhIC0gTmlhc3NhIiwiZGVzY3JpcHRpb24iOiJQb3N0byBkZSBTYcO6ZGUgZG8gR3J1cG8gQWNvbGhpZGEgLSBOaWFzc2EiLCJhY3RpdmUiOnRydWUsImdvTGl2ZURhdGUiOm51bGwsImdvRG93bkRhdGUiOm51bGwsImNvbW1lbnQiOm51bGwsImVuYWJsZWQiOnRydWUsIm9wZW5MbWlzQWNjZXNzaWJsZSI6bnVsbCwic3VwcG9ydGVkUHJvZ3JhbXMiOlt7ImNvZGUiOiJNTCIsIm5hbWUiOiJNYWxhcmlhIiwiZGVzY3JpcHRpb24iOm51bGwsImFjdGl2ZSI6bnVsbCwicGVyaW9kc1NraXBwYWJsZSI6ZmFsc2UsInNob3dOb25GdWxsU3VwcGx5VGFiIjpmYWxzZSwic3VwcG9ydExvY2FsbHlGdWxmaWxsZWQiOnRydWUsImlkIjoiYWQ4YzlhNTQtY2M2Ni00Mzk1LWEzNTMtMTg0OWNhZWM4N2RhIn0seyJjb2RlIjoiVFIiLCJuYW1lIjoiVGVzdGVzIFLDoXBpZG9zIERpYWcuIiwiZGVzY3JpcHRpb24iOm51bGwsImFjdGl2ZSI6bnVsbCwicGVyaW9kc1NraXBwYWJsZSI6ZmFsc2UsInNob3dOb25GdWxsU3VwcGx5VGFiIjpmYWxzZSwic3VwcG9ydExvY2FsbHlGdWxmaWxsZWQiOnRydWUsImlkIjoiYTI0ZjE5YTgtMzc0My00YTFhLWE5MTktZThmOTdiNTcxOWFkIn0seyJjb2RlIjoiVEIiLCJuYW1lIjoiTVRCIiwiZGVzY3JpcHRpb24iOm51bGwsImFjdGl2ZSI6bnVsbCwicGVyaW9kc1NraXBwYWJsZSI6ZmFsc2UsInNob3dOb25GdWxsU3VwcGx5VGFiIjpmYWxzZSwic3VwcG9ydExvY2FsbHlGdWxmaWxsZWQiOnRydWUsImlkIjoiYmZmNTAzOTItMGE0Ni00ZGEzLThhZGMtZDQ3YTM3ZmI2YTlmIn0seyJjb2RlIjoiVCIsIm5hbWUiOiJUQVJWIiwiZGVzY3JpcHRpb24iOm51bGwsImFjdGl2ZSI6bnVsbCwicGVyaW9kc1NraXBwYWJsZSI6ZmFsc2UsInNob3dOb25GdWxsU3VwcGx5VGFiIjpmYWxzZSwic3VwcG9ydExvY2FsbHlGdWxmaWxsZWQiOnRydWUsImlkIjoiMTA4NDVjYjktZDM2NS00YWFhLWJhZGQtYjRmYTM5YzZhMjZhIn0seyJjb2RlIjoiVkMiLCJuYW1lIjoiVmlhIENsw6Fzc2ljYSIsImRlc2NyaXB0aW9uIjpudWxsLCJhY3RpdmUiOm51bGwsInBlcmlvZHNTa2lwcGFibGUiOmZhbHNlLCJzaG93Tm9uRnVsbFN1cHBseVRhYiI6ZmFsc2UsInN1cHBvcnRMb2NhbGx5RnVsZmlsbGVkIjp0cnVlLCJpZCI6ImRjZTE3ZjJlLWFmM2UtNDBhZC04ZTAwLTM0OTZhZGVmNDRjMyJ9XSwiZ2VvZ3JhcGhpY1pvbmUiOnsiY29kZSI6IjAxMDEiLCJuYW1lIjoiQ0lEQURFIERFIExJQ0hJTkdBQSIsImxldmVsIjp7ImNvZGUiOiJkaXN0cmljdCIsIm5hbWUiOiJEaXN0cmljdCIsImxldmVsTnVtYmVyIjozLCJpZCI6ImFjOGY1MGI0LWNmYWUtMTFlOS05Mzk4LTAyNDJhYzEzMDAwOCJ9LCJwYXJlbnQiOnsiY29kZSI6IjAxIiwibmFtZSI6Ik5JQVNTQSIsImxldmVsIjp7ImNvZGUiOiJwcm92aW5jZSIsIm5hbWUiOiJQcm92aW5jZSIsImxldmVsTnVtYmVyIjoyLCJpZCI6ImFjOGY0ZGVlLWNmYWUtMTFlOS05Mzk4LTAyNDJhYzEzMDAwOCJ9LCJwYXJlbnQiOnsiY29kZSI6Ik5SIiwibmFtZSI6Ik5PUlRFIiwibGV2ZWwiOnsiY29kZSI6Im5hdGlvbmFsIiwibmFtZSI6Ik5hdGlvbmFsIiwibGV2ZWxOdW1iZXIiOjEsImlkIjoiYWM4ZjQzZGEtY2ZhZS0xMWU5LTkzOTgtMDI0MmFjMTMwMDA4In0sInBhcmVudCI6bnVsbCwiaWQiOiJmNWQ1ZjkxZi0wNWRiLTRlN2QtYjhmYi02MTA5NGQ2NjYxOTMifSwiaWQiOiIzZjJlMjliOC1jZmFmLTExZTktOTM5OC0wMjQyYWMxMzAwMDgifSwiaWQiOiJmNDMyMjI4OS04NDUzLTRlNDYtYjQ5Ny1kZWJjZGQ3ODU5ODQifSwib3BlcmF0b3IiOm51bGwsInR5cGUiOnsiY29kZSI6IlBTIiwibmFtZSI6IlBTIC0gUG9zdG8gZGUgU2HDumRlIiwiZGVzY3JpcHRpb24iOm51bGwsImRpc3BsYXlPcmRlciI6OSwiYWN0aXZlIjp0cnVlLCJpZCI6ImI2MDZiNDllLWNmYWQtMTFlOS05Mzk4LTAyNDJhYzEzMDAwOCJ9LCJpZCI6ImZmZDhjN2QzLTAwNzctNDM2Zi04MDhmLTA5ZDAxZDgyZmZjZSJ9LCJwcm9jZXNzaW5nUGVyaW9kIjp7InByb2Nlc3NpbmdTY2hlZHVsZSI6eyJjb2RlIjoiTTEiLCJkZXNjcmlwdGlvbiI6Ik1vbnRobHkiLCJtb2RpZmllZERhdGUiOm51bGwsIm5hbWUiOiJNb250aGx5IiwiaWQiOiI3MjdiZWYyOC1kZTFjLTExZTktODc4NS0wMjQyYWMxMzAwMDcifSwibmFtZSI6IlNldGVtYnJvIDIwMjIiLCJkZXNjcmlwdGlvbiI6IjIxQWdvIC0gMjBTZXQiLCJzdGFydERhdGUiOiIyMDIyLTA4LTIxIiwiZW5kRGF0ZSI6IjIwMjItMDktMjAiLCJpZCI6IjQ1NGUzMjczLWM4ODItNDA4NS1hMTUzLWNkMTgzMjRmNWU1MyJ9LCJjcmVhdGVkRGF0ZSI6IjIwMjItMDktMjNUMDY6MTg6MjAuMzc2WiIsImNyZWF0ZWRCeSI6eyJ1c2VybmFtZSI6IkRETV9zaXFpX3JvbGUyIiwiZmlyc3ROYW1lIjoiRERNIiwibGFzdE5hbWUiOiJzaXFpIiwiZW1haWwiOm51bGwsInZlcmlmaWVkIjpmYWxzZSwiYWN0aXZlIjp0cnVlLCJob21lRmFjaWxpdHlJZCI6ImY3OTEzZTdkLTU0ZDMtNGZmZS04MmM2LTM1YjUyZTJiYWI1MCIsInJvbGVBc3NpZ25tZW50cyI6W3sicm9sZSI6bnVsbCwidXNlciI6bnVsbCwiaWQiOm51bGx9LHsicm9sZSI6bnVsbCwidXNlciI6bnVsbCwiaWQiOm51bGx9LHsicm9sZSI6bnVsbCwidXNlciI6bnVsbCwiaWQiOm51bGx9LHsicm9sZSI6bnVsbCwidXNlciI6bnVsbCwiaWQiOm51bGx9LHsicm9sZSI6bnVsbCwidXNlciI6bnVsbCwiaWQiOm51bGx9LHsicm9sZSI6bnVsbCwidXNlciI6bnVsbCwiaWQiOm51bGx9LHsicm9sZSI6bnVsbCwidXNlciI6bnVsbCwiaWQiOm51bGx9LHsicm9sZSI6bnVsbCwidXNlciI6bnVsbCwiaWQiOm51bGx9LHsicm9sZSI6bnVsbCwidXNlciI6bnVsbCwiaWQiOm51bGx9LHsicm9sZSI6bnVsbCwidXNlciI6bnVsbCwiaWQiOm51bGx9LHsicm9sZSI6bnVsbCwidXNlciI6bnVsbCwiaWQiOm51bGx9LHsicm9sZSI6bnVsbCwidXNlciI6bnVsbCwiaWQiOm51bGx9LHsicm9sZSI6bnVsbCwidXNlciI6bnVsbCwiaWQiOm51bGx9LHsicm9sZSI6bnVsbCwidXNlciI6bnVsbCwiaWQiOm51bGx9LHsicm9sZSI6bnVsbCwidXNlciI6bnVsbCwiaWQiOm51bGx9LHsicm9sZSI6bnVsbCwidXNlciI6bnVsbCwiaWQiOm51bGx9LHsicm9sZSI6bnVsbCwidXNlciI6bnVsbCwiaWQiOm51bGx9LHsicm9sZSI6bnVsbCwidXNlciI6bnVsbCwiaWQiOm51bGx9XSwiaWQiOiJiYWQzMmE2My02MDFlLTRlZDMtYTY2MS02MjE4MjIwOWE4MjUifSwicHJvZ3JhbSI6eyJjb2RlIjoiVkMiLCJuYW1lIjoiVmlhIENsw6Fzc2ljYSIsImRlc2NyaXB0aW9uIjpudWxsLCJhY3RpdmUiOnRydWUsInBlcmlvZHNTa2lwcGFibGUiOmZhbHNlLCJzaG93Tm9uRnVsbFN1cHBseVRhYiI6ZmFsc2UsInN1cHBvcnRMb2NhbGx5RnVsZmlsbGVkIjpmYWxzZSwiaWQiOiJkY2UxN2YyZS1hZjNlLTQwYWQtOGUwMC0zNDk2YWRlZjQ0YzMifSwicmVxdWVzdGluZ0ZhY2lsaXR5Ijp7ImNvZGUiOiIwMTAxMDE5OCIsIm5hbWUiOiJQb3N0byBkZSBTYcO6ZGUgZG8gR3J1cG8gQWNvbGhpZGEgLSBOaWFzc2EiLCJkZXNjcmlwdGlvbiI6IlBvc3RvIGRlIFNhw7pkZSBkbyBHcnVwbyBBY29saGlkYSAtIE5pYXNzYSIsImFjdGl2ZSI6dHJ1ZSwiZ29MaXZlRGF0ZSI6bnVsbCwiZ29Eb3duRGF0ZSI6bnVsbCwiY29tbWVudCI6bnVsbCwiZW5hYmxlZCI6dHJ1ZSwib3BlbkxtaXNBY2Nlc3NpYmxlIjpudWxsLCJzdXBwb3J0ZWRQcm9ncmFtcyI6W3siY29kZSI6Ik1MIiwibmFtZSI6Ik1hbGFyaWEiLCJkZXNjcmlwdGlvbiI6bnVsbCwiYWN0aXZlIjpudWxsLCJwZXJpb2RzU2tpcHBhYmxlIjpmYWxzZSwic2hvd05vbkZ1bGxTdXBwbHlUYWIiOmZhbHNlLCJzdXBwb3J0TG9jYWxseUZ1bGZpbGxlZCI6dHJ1ZSwiaWQiOiJhZDhjOWE1NC1jYzY2LTQzOTUtYTM1My0xODQ5Y2FlYzg3ZGEifSx7ImNvZGUiOiJUUiIsIm5hbWUiOiJUZXN0ZXMgUsOhcGlkb3MgRGlhZy4iLCJkZXNjcmlwdGlvbiI6bnVsbCwiYWN0aXZlIjpudWxsLCJwZXJpb2RzU2tpcHBhYmxlIjpmYWxzZSwic2hvd05vbkZ1bGxTdXBwbHlUYWIiOmZhbHNlLCJzdXBwb3J0TG9jYWxseUZ1bGZpbGxlZCI6dHJ1ZSwiaWQiOiJhMjRmMTlhOC0zNzQzLTRhMWEtYTkxOS1lOGY5N2I1NzE5YWQifSx7ImNvZGUiOiJUQiIsIm5hbWUiOiJNVEIiLCJkZXNjcmlwdGlvbiI6bnVsbCwiYWN0aXZlIjpudWxsLCJwZXJpb2RzU2tpcHBhYmxlIjpmYWxzZSwic2hvd05vbkZ1bGxTdXBwbHlUYWIiOmZhbHNlLCJzdXBwb3J0TG9jYWxseUZ1bGZpbGxlZCI6dHJ1ZSwiaWQiOiJiZmY1MDM5Mi0wYTQ2LTRkYTMtOGFkYy1kNDdhMzdmYjZhOWYifSx7ImNvZGUiOiJUIiwibmFtZSI6IlRBUlYiLCJkZXNjcmlwdGlvbiI6bnVsbCwiYWN0aXZlIjpudWxsLCJwZXJpb2RzU2tpcHBhYmxlIjpmYWxzZSwic2hvd05vbkZ1bGxTdXBwbHlUYWIiOmZhbHNlLCJzdXBwb3J0TG9jYWxseUZ1bGZpbGxlZCI6dHJ1ZSwiaWQiOiIxMDg0NWNiOS1kMzY1LTRhYWEtYmFkZC1iNGZhMzljNmEyNmEifSx7ImNvZGUiOiJWQyIsIm5hbWUiOiJWaWEgQ2zDoXNzaWNhIiwiZGVzY3JpcHRpb24iOm51bGwsImFjdGl2ZSI6bnVsbCwicGVyaW9kc1NraXBwYWJsZSI6ZmFsc2UsInNob3dOb25GdWxsU3VwcGx5VGFiIjpmYWxzZSwic3VwcG9ydExvY2FsbHlGdWxmaWxsZWQiOnRydWUsImlkIjoiZGNlMTdmMmUtYWYzZS00MGFkLThlMDAtMzQ5NmFkZWY0NGMzIn1dLCJnZW9ncmFwaGljWm9uZSI6eyJjb2RlIjoiMDEwMSIsIm5hbWUiOiJDSURBREUgREUgTElDSElOR0FBIiwibGV2ZWwiOnsiY29kZSI6ImRpc3RyaWN0IiwibmFtZSI6IkRpc3RyaWN0IiwibGV2ZWxOdW1iZXIiOjMsImlkIjoiYWM4ZjUwYjQtY2ZhZS0xMWU5LTkzOTgtMDI0MmFjMTMwMDA4In0sInBhcmVudCI6eyJjb2RlIjoiMDEiLCJuYW1lIjoiTklBU1NBIiwibGV2ZWwiOnsiY29kZSI6InByb3ZpbmNlIiwibmFtZSI6IlByb3ZpbmNlIiwibGV2ZWxOdW1iZXIiOjIsImlkIjoiYWM4ZjRkZWUtY2ZhZS0xMWU5LTkzOTgtMDI0MmFjMTMwMDA4In0sInBhcmVudCI6eyJjb2RlIjoiTlIiLCJuYW1lIjoiTk9SVEUiLCJsZXZlbCI6eyJjb2RlIjoibmF0aW9uYWwiLCJuYW1lIjoiTmF0aW9uYWwiLCJsZXZlbE51bWJlciI6MSwiaWQiOiJhYzhmNDNkYS1jZmFlLTExZTktOTM5OC0wMjQyYWMxMzAwMDgifSwicGFyZW50IjpudWxsLCJpZCI6ImY1ZDVmOTFmLTA1ZGItNGU3ZC1iOGZiLTYxMDk0ZDY2NjE5MyJ9LCJpZCI6IjNmMmUyOWI4LWNmYWYtMTFlOS05Mzk4LTAyNDJhYzEzMDAwOCJ9LCJpZCI6ImY0MzIyMjg5LTg0NTMtNGU0Ni1iNDk3LWRlYmNkZDc4NTk4NCJ9LCJvcGVyYXRvciI6bnVsbCwidHlwZSI6eyJjb2RlIjoiUFMiLCJuYW1lIjoiUFMgLSBQb3N0byBkZSBTYcO6ZGUiLCJkZXNjcmlwdGlvbiI6bnVsbCwiZGlzcGxheU9yZGVyIjo5LCJhY3RpdmUiOnRydWUsImlkIjoiYjYwNmI0OWUtY2ZhZC0xMWU5LTkzOTgtMDI0MmFjMTMwMDA4In0sImlkIjoiZmZkOGM3ZDMtMDA3Ny00MzZmLTgwOGYtMDlkMDFkODJmZmNlIn0sInJlY2VpdmluZ0ZhY2lsaXR5Ijp7ImNvZGUiOiIwMTAxMDE5OCIsIm5hbWUiOiJQb3N0byBkZSBTYcO6ZGUgZG8gR3J1cG8gQWNvbGhpZGEgLSBOaWFzc2EiLCJkZXNjcmlwdGlvbiI6IlBvc3RvIGRlIFNhw7pkZSBkbyBHcnVwbyBBY29saGlkYSAtIE5pYXNzYSIsImFjdGl2ZSI6dHJ1ZSwiZ29MaXZlRGF0ZSI6bnVsbCwiZ29Eb3duRGF0ZSI6bnVsbCwiY29tbWVudCI6bnVsbCwiZW5hYmxlZCI6dHJ1ZSwib3BlbkxtaXNBY2Nlc3NpYmxlIjpudWxsLCJzdXBwb3J0ZWRQcm9ncmFtcyI6W3siY29kZSI6Ik1MIiwibmFtZSI6Ik1hbGFyaWEiLCJkZXNjcmlwdGlvbiI6bnVsbCwiYWN0aXZlIjpudWxsLCJwZXJpb2RzU2tpcHBhYmxlIjpmYWxzZSwic2hvd05vbkZ1bGxTdXBwbHlUYWIiOmZhbHNlLCJzdXBwb3J0TG9jYWxseUZ1bGZpbGxlZCI6dHJ1ZSwiaWQiOiJhZDhjOWE1NC1jYzY2LTQzOTUtYTM1My0xODQ5Y2FlYzg3ZGEifSx7ImNvZGUiOiJUUiIsIm5hbWUiOiJUZXN0ZXMgUsOhcGlkb3MgRGlhZy4iLCJkZXNjcmlwdGlvbiI6bnVsbCwiYWN0aXZlIjpudWxsLCJwZXJpb2RzU2tpcHBhYmxlIjpmYWxzZSwic2hvd05vbkZ1bGxTdXBwbHlUYWIiOmZhbHNlLCJzdXBwb3J0TG9jYWxseUZ1bGZpbGxlZCI6dHJ1ZSwiaWQiOiJhMjRmMTlhOC0zNzQzLTRhMWEtYTkxOS1lOGY5N2I1NzE5YWQifSx7ImNvZGUiOiJUQiIsIm5hbWUiOiJNVEIiLCJkZXNjcmlwdGlvbiI6bnVsbCwiYWN0aXZlIjpudWxsLCJwZXJpb2RzU2tpcHBhYmxlIjpmYWxzZSwic2hvd05vbkZ1bGxTdXBwbHlUYWIiOmZhbHNlLCJzdXBwb3J0TG9jYWxseUZ1bGZpbGxlZCI6dHJ1ZSwiaWQiOiJiZmY1MDM5Mi0wYTQ2LTRkYTMtOGFkYy1kNDdhMzdmYjZhOWYifSx7ImNvZGUiOiJUIiwibmFtZSI6IlRBUlYiLCJkZXNjcmlwdGlvbiI6bnVsbCwiYWN0aXZlIjpudWxsLCJwZXJpb2RzU2tpcHBhYmxlIjpmYWxzZSwic2hvd05vbkZ1bGxTdXBwbHlUYWIiOmZhbHNlLCJzdXBwb3J0TG9jYWxseUZ1bGZpbGxlZCI6dHJ1ZSwiaWQiOiIxMDg0NWNiOS1kMzY1LTRhYWEtYmFkZC1iNGZhMzljNmEyNmEifSx7ImNvZGUiOiJWQyIsIm5hbWUiOiJWaWEgQ2zDoXNzaWNhIiwiZGVzY3JpcHRpb24iOm51bGwsImFjdGl2ZSI6bnVsbCwicGVyaW9kc1NraXBwYWJsZSI6ZmFsc2UsInNob3dOb25GdWxsU3VwcGx5VGFiIjpmYWxzZSwic3VwcG9ydExvY2FsbHlGdWxmaWxsZWQiOnRydWUsImlkIjoiZGNlMTdmMmUtYWYzZS00MGFkLThlMDAtMzQ5NmFkZWY0NGMzIn1dLCJnZW9ncmFwaGljWm9uZSI6eyJjb2RlIjoiMDEwMSIsIm5hbWUiOiJDSURBREUgREUgTElDSElOR0FBIiwibGV2ZWwiOnsiY29kZSI6ImRpc3RyaWN0IiwibmFtZSI6IkRpc3RyaWN0IiwibGV2ZWxOdW1iZXIiOjMsImlkIjoiYWM4ZjUwYjQtY2ZhZS0xMWU5LTkzOTgtMDI0MmFjMTMwMDA4In0sInBhcmVudCI6eyJjb2RlIjoiMDEiLCJuYW1lIjoiTklBU1NBIiwibGV2ZWwiOnsiY29kZSI6InByb3ZpbmNlIiwibmFtZSI6IlByb3ZpbmNlIiwibGV2ZWxOdW1iZXIiOjIsImlkIjoiYWM4ZjRkZWUtY2ZhZS0xMWU5LTkzOTgtMDI0MmFjMTMwMDA4In0sInBhcmVudCI6eyJjb2RlIjoiTlIiLCJuYW1lIjoiTk9SVEUiLCJsZXZlbCI6eyJjb2RlIjoibmF0aW9uYWwiLCJuYW1lIjoiTmF0aW9uYWwiLCJsZXZlbE51bWJlciI6MSwiaWQiOiJhYzhmNDNkYS1jZmFlLTExZTktOTM5OC0wMjQyYWMxMzAwMDgifSwicGFyZW50IjpudWxsLCJpZCI6ImY1ZDVmOTFmLTA1ZGItNGU3ZC1iOGZiLTYxMDk0ZDY2NjE5MyJ9LCJpZCI6IjNmMmUyOWI4LWNmYWYtMTFlOS05Mzk4LTAyNDJhYzEzMDAwOCJ9LCJpZCI6ImY0MzIyMjg5LTg0NTMtNGU0Ni1iNDk3LWRlYmNkZDc4NTk4NCJ9LCJvcGVyYXRvciI6bnVsbCwidHlwZSI6eyJjb2RlIjoiUFMiLCJuYW1lIjoiUFMgLSBQb3N0byBkZSBTYcO6ZGUiLCJkZXNjcmlwdGlvbiI6bnVsbCwiZGlzcGxheU9yZGVyIjo5LCJhY3RpdmUiOnRydWUsImlkIjoiYjYwNmI0OWUtY2ZhZC0xMWU5LTkzOTgtMDI0MmFjMTMwMDA4In0sImlkIjoiZmZkOGM3ZDMtMDA3Ny00MzZmLTgwOGYtMDlkMDFkODJmZmNlIn0sInN1cHBseWluZ0ZhY2lsaXR5Ijp7ImNvZGUiOiIwMjAxMDEwMSIsIm5hbWUiOiJERE0gZGUgQ2lkYWRlIGRlIExpY2hpbmdhIiwiZGVzY3JpcHRpb24iOiJERE0gZGUgQ2lkYWRlIGRlIExpY2hpbmdhIiwiYWN0aXZlIjp0cnVlLCJnb0xpdmVEYXRlIjpudWxsLCJnb0Rvd25EYXRlIjpudWxsLCJjb21tZW50IjpudWxsLCJlbmFibGVkIjp0cnVlLCJvcGVuTG1pc0FjY2Vzc2libGUiOm51bGwsInN1cHBvcnRlZFByb2dyYW1zIjpbeyJjb2RlIjoiTUwiLCJuYW1lIjoiTWFsYXJpYSIsImRlc2NyaXB0aW9uIjpudWxsLCJhY3RpdmUiOm51bGwsInBlcmlvZHNTa2lwcGFibGUiOmZhbHNlLCJzaG93Tm9uRnVsbFN1cHBseVRhYiI6ZmFsc2UsInN1cHBvcnRMb2NhbGx5RnVsZmlsbGVkIjp0cnVlLCJpZCI6ImFkOGM5YTU0LWNjNjYtNDM5NS1hMzUzLTE4NDljYWVjODdkYSJ9LHsiY29kZSI6IlRSIiwibmFtZSI6IlRlc3RlcyBSw6FwaWRvcyBEaWFnLiIsImRlc2NyaXB0aW9uIjpudWxsLCJhY3RpdmUiOm51bGwsInBlcmlvZHNTa2lwcGFibGUiOmZhbHNlLCJzaG93Tm9uRnVsbFN1cHBseVRhYiI6ZmFsc2UsInN1cHBvcnRMb2NhbGx5RnVsZmlsbGVkIjp0cnVlLCJpZCI6ImEyNGYxOWE4LTM3NDMtNGExYS1hOTE5LWU4Zjk3YjU3MTlhZCJ9LHsiY29kZSI6IlRCIiwibmFtZSI6Ik1UQiIsImRlc2NyaXB0aW9uIjpudWxsLCJhY3RpdmUiOm51bGwsInBlcmlvZHNTa2lwcGFibGUiOmZhbHNlLCJzaG93Tm9uRnVsbFN1cHBseVRhYiI6ZmFsc2UsInN1cHBvcnRMb2NhbGx5RnVsZmlsbGVkIjp0cnVlLCJpZCI6ImJmZjUwMzkyLTBhNDYtNGRhMy04YWRjLWQ0N2EzN2ZiNmE5ZiJ9LHsiY29kZSI6IlQiLCJuYW1lIjoiVEFSViIsImRlc2NyaXB0aW9uIjpudWxsLCJhY3RpdmUiOm51bGwsInBlcmlvZHNTa2lwcGFibGUiOmZhbHNlLCJzaG93Tm9uRnVsbFN1cHBseVRhYiI6ZmFsc2UsInN1cHBvcnRMb2NhbGx5RnVsZmlsbGVkIjp0cnVlLCJpZCI6IjEwODQ1Y2I5LWQzNjUtNGFhYS1iYWRkLWI0ZmEzOWM2YTI2YSJ9LHsiY29kZSI6IlZDIiwibmFtZSI6IlZpYSBDbMOhc3NpY2EiLCJkZXNjcmlwdGlvbiI6bnVsbCwiYWN0aXZlIjpudWxsLCJwZXJpb2RzU2tpcHBhYmxlIjpmYWxzZSwic2hvd05vbkZ1bGxTdXBwbHlUYWIiOmZhbHNlLCJzdXBwb3J0TG9jYWxseUZ1bGZpbGxlZCI6dHJ1ZSwiaWQiOiJkY2UxN2YyZS1hZjNlLTQwYWQtOGUwMC0zNDk2YWRlZjQ0YzMifV0sImdlb2dyYXBoaWNab25lIjp7ImNvZGUiOiIwMTAxIiwibmFtZSI6IkNJREFERSBERSBMSUNISU5HQUEiLCJsZXZlbCI6eyJjb2RlIjoiZGlzdHJpY3QiLCJuYW1lIjoiRGlzdHJpY3QiLCJsZXZlbE51bWJlciI6MywiaWQiOiJhYzhmNTBiNC1jZmFlLTExZTktOTM5OC0wMjQyYWMxMzAwMDgifSwicGFyZW50Ijp7ImNvZGUiOiIwMSIsIm5hbWUiOiJOSUFTU0EiLCJsZXZlbCI6eyJjb2RlIjoicHJvdmluY2UiLCJuYW1lIjoiUHJvdmluY2UiLCJsZXZlbE51bWJlciI6MiwiaWQiOiJhYzhmNGRlZS1jZmFlLTExZTktOTM5OC0wMjQyYWMxMzAwMDgifSwicGFyZW50Ijp7ImNvZGUiOiJOUiIsIm5hbWUiOiJOT1JURSIsImxldmVsIjp7ImNvZGUiOiJuYXRpb25hbCIsIm5hbWUiOiJOYXRpb25hbCIsImxldmVsTnVtYmVyIjoxLCJpZCI6ImFjOGY0M2RhLWNmYWUtMTFlOS05Mzk4LTAyNDJhYzEzMDAwOCJ9LCJwYXJlbnQiOm51bGwsImlkIjoiZjVkNWY5MWYtMDVkYi00ZTdkLWI4ZmItNjEwOTRkNjY2MTkzIn0sImlkIjoiM2YyZTI5YjgtY2ZhZi0xMWU5LTkzOTgtMDI0MmFjMTMwMDA4In0sImlkIjoiZjQzMjIyODktODQ1My00ZTQ2LWI0OTctZGViY2RkNzg1OTg0In0sIm9wZXJhdG9yIjpudWxsLCJ0eXBlIjp7ImNvZGUiOiJERE0iLCJuYW1lIjoiRERNIC0gRGVww7NzaXRvIERpc3RyaXRhbCBkZSBNZWRpY2FtZW50b3MiLCJkZXNjcmlwdGlvbiI6bnVsbCwiZGlzcGxheU9yZGVyIjoxLCJhY3RpdmUiOnRydWUsImlkIjoiYjYwNjljYTItY2ZhZC0xMWU5LTkzOTgtMDI0MmFjMTMwMDA4In0sImlkIjoiZjc5MTNlN2QtNTRkMy00ZmZlLTgyYzYtMzViNTJlMmJhYjUwIn0sIm9yZGVyQ29kZSI6Ik9SREVNLTJSWUY0M0xOUiIsInN0YXR1cyI6Ik9SREVSRUQiLCJxdW90ZWRDb3N0IjowLCJvcmRlckxpbmVJdGVtcyI6W3siaWQiOiI1MjY3NWYxYS0xODBhLTQ5MGEtYTUzMy1mOThmMWNiODBiMTIiLCJvcmRlcmFibGUiOnsiaWQiOiJkYWM2ZDllNi1kNDcyLTQ4YWUtYWJhOS1hZTg4MmU4MWEyOGUiLCJwcm9kdWN0Q29kZSI6IjI1QTA0IiwiZnVsbFByb2R1Y3ROYW1lIjoiUmVxdWlzaWNhbyBJbnRlcm5hIC8gQmFsYW5jZXRlOyBTZW0gRG9zYWdlbTsgUGFwZWwiLCJuZXRDb250ZW50IjoxLCJwYWNrUm91bmRpbmdUaHJlc2hvbGQiOjEsInJvdW5kVG9aZXJvIjpmYWxzZSwicHJvZ3JhbXMiOlt7InByb2dyYW1JZCI6ImRjZTE3ZjJlLWFmM2UtNDBhZC04ZTAwLTM0OTZhZGVmNDRjMyIsIm9yZGVyYWJsZURpc3BsYXlDYXRlZ29yeUlkIjoiNDBiNjY3NDYtMDFmNC0xMWViLWFmYTQtNGMzMjc1OTU1NGQ5Iiwib3JkZXJhYmxlQ2F0ZWdvcnlEaXNwbGF5TmFtZSI6IkRlZmF1bHQiLCJvcmRlcmFibGVDYXRlZ29yeURpc3BsYXlPcmRlciI6MCwiYWN0aXZlIjp0cnVlLCJmdWxsU3VwcGx5Ijp0cnVlLCJkaXNwbGF5T3JkZXIiOjAsImRvc2VzUGVyUGF0aWVudCI6bnVsbCwicHJpY2VQZXJQYWNrIjoxNjEuMjh9XSwiZGlzcGVuc2FibGUiOnsiZGlzcGVuc2luZ1VuaXQiOiJlYWNoIiwiZGlzcGxheVVuaXQiOiJlYWNoIn0sImV4dHJhRGF0YSI6eyJpc0Jhc2ljIjoidHJ1ZSJ9LCJtZXRhIjp7InZlcnNpb25OdW1iZXIiOjMsImxhc3RVcGRhdGVkIjoiMjAyMi0wOS0xM1QwNzo0Njo0OS41MDVaIn0sImlzS2l0IjpmYWxzZX0sIm9yZGVyZWRRdWFudGl0eSI6NTAsInRvdGFsRGlzcGVuc2luZ1VuaXRzIjo1MCwicGFydGlhbEZ1bGZpbGxlZFF1YW50aXR5IjowLCJza2lwcGVkIjpmYWxzZSwiYWRkZWQiOmZhbHNlfSx7ImlkIjoiOWI5YTM1ZjUtM2M1OC00NWRjLThkYmMtZWRhMmY1YzkzYzYyIiwib3JkZXJhYmxlIjp7ImlkIjoiZDFjMzNkMjAtYWU1MC00N2ZhLThkNzAtNTc5NzI0Y2U5M2JiIiwicHJvZHVjdENvZGUiOiIyNUMwMSIsImZ1bGxQcm9kdWN0TmFtZSI6Ik1hcGEgIE1lbnNhbCBkZSBURFJzOyBTZW0gRG9zYWdlbTsgUGFwZWwiLCJuZXRDb250ZW50IjoxLCJwYWNrUm91bmRpbmdUaHJlc2hvbGQiOjEsInJvdW5kVG9aZXJvIjpmYWxzZSwicHJvZ3JhbXMiOlt7InByb2dyYW1JZCI6ImRjZTE3ZjJlLWFmM2UtNDBhZC04ZTAwLTM0OTZhZGVmNDRjMyIsIm9yZGVyYWJsZURpc3BsYXlDYXRlZ29yeUlkIjoiNDBiNjY3NDYtMDFmNC0xMWViLWFmYTQtNGMzMjc1OTU1NGQ5Iiwib3JkZXJhYmxlQ2F0ZWdvcnlEaXNwbGF5TmFtZSI6IkRlZmF1bHQiLCJvcmRlcmFibGVDYXRlZ29yeURpc3BsYXlPcmRlciI6MCwiYWN0aXZlIjp0cnVlLCJmdWxsU3VwcGx5Ijp0cnVlLCJkaXNwbGF5T3JkZXIiOjAsImRvc2VzUGVyUGF0aWVudCI6bnVsbCwicHJpY2VQZXJQYWNrIjoyNy4zNn1dLCJkaXNwZW5zYWJsZSI6eyJkaXNwZW5zaW5nVW5pdCI6ImVhY2giLCJkaXNwbGF5VW5pdCI6ImVhY2gifSwiZXh0cmFEYXRhIjp7ImlzQmFzaWMiOiJ0cnVlIn0sIm1ldGEiOnsidmVyc2lvbk51bWJlciI6MywibGFzdFVwZGF0ZWQiOiIyMDIyLTA5LTEzVDA3OjQ1OjMxLjg1NFoifSwiaXNLaXQiOmZhbHNlfSwib3JkZXJlZFF1YW50aXR5Ijo1MCwidG90YWxEaXNwZW5zaW5nVW5pdHMiOjUwLCJwYXJ0aWFsRnVsZmlsbGVkUXVhbnRpdHkiOjAsInNraXBwZWQiOmZhbHNlLCJhZGRlZCI6ZmFsc2V9LHsiaWQiOiI4ZDhiZjU0Yi01OTZjLTRjYWUtYWI4My1lNjUxYTFiNTE2OTYiLCJvcmRlcmFibGUiOnsiaWQiOiJiMTIzNmM2OC1hN2IxLTQxMDEtYWE5Yy0wMDA2ZjA2ZDBlZWIiLCJwcm9kdWN0Q29kZSI6IjI1QjA2IiwiZnVsbFByb2R1Y3ROYW1lIjoiTWFwYSBNZW5zYWwgRGlzdHJpdGFsIGRlIENvbnN1bW8gZGUgQUw7IFNlbSBEb3NhZ2VtOyBQYXBlbCIsIm5ldENvbnRlbnQiOjEsInBhY2tSb3VuZGluZ1RocmVzaG9sZCI6MSwicm91bmRUb1plcm8iOmZhbHNlLCJwcm9ncmFtcyI6W3sicHJvZ3JhbUlkIjoiZGNlMTdmMmUtYWYzZS00MGFkLThlMDAtMzQ5NmFkZWY0NGMzIiwib3JkZXJhYmxlRGlzcGxheUNhdGVnb3J5SWQiOiI0MGI2Njc0Ni0wMWY0LTExZWItYWZhNC00YzMyNzU5NTU0ZDkiLCJvcmRlcmFibGVDYXRlZ29yeURpc3BsYXlOYW1lIjoiRGVmYXVsdCIsIm9yZGVyYWJsZUNhdGVnb3J5RGlzcGxheU9yZGVyIjowLCJhY3RpdmUiOnRydWUsImZ1bGxTdXBwbHkiOnRydWUsImRpc3BsYXlPcmRlciI6MCwiZG9zZXNQZXJQYXRpZW50IjpudWxsLCJwcmljZVBlclBhY2siOm51bGx9XSwiZGlzcGVuc2FibGUiOnsiZGlzcGVuc2luZ1VuaXQiOiJlYWNoIiwiZGlzcGxheVVuaXQiOiJlYWNoIn0sImV4dHJhRGF0YSI6eyJpc0Jhc2ljIjoidHJ1ZSJ9LCJtZXRhIjp7InZlcnNpb25OdW1iZXIiOjIsImxhc3RVcGRhdGVkIjoiMjAyMi0wNy0yMVQwNjo0NjoxNS4wNThaIn0sImlzS2l0IjpmYWxzZX0sIm9yZGVyZWRRdWFudGl0eSI6NTAsInRvdGFsRGlzcGVuc2luZ1VuaXRzIjo1MCwicGFydGlhbEZ1bGZpbGxlZFF1YW50aXR5IjowLCJza2lwcGVkIjpmYWxzZSwiYWRkZWQiOmZhbHNlfSx7ImlkIjoiNDUwMmM1NjYtZDhiOS00YThjLTgwNDEtOWMyYTY0NGYxMDQ0Iiwib3JkZXJhYmxlIjp7ImlkIjoiNjNiOGEwYmMtNTQyNy00NmU1LWI5NTEtNzMyZDdiMWQ1YzFkIiwicHJvZHVjdENvZGUiOiIyNUIwNyIsImZ1bGxQcm9kdWN0TmFtZSI6Ik1hcGEgZGUgIFJlc3VtbyBNZW5zYWwgZGUgRGVwb3NpdG8gQUw7IFNlbSBEb3NhZ2VtOyBQYXBlbCIsIm5ldENvbnRlbnQiOjEsInBhY2tSb3VuZGluZ1RocmVzaG9sZCI6MSwicm91bmRUb1plcm8iOmZhbHNlLCJwcm9ncmFtcyI6W3sicHJvZ3JhbUlkIjoiZGNlMTdmMmUtYWYzZS00MGFkLThlMDAtMzQ5NmFkZWY0NGMzIiwib3JkZXJhYmxlRGlzcGxheUNhdGVnb3J5SWQiOiI0MGI2Njc0Ni0wMWY0LTExZWItYWZhNC00YzMyNzU5NTU0ZDkiLCJvcmRlcmFibGVDYXRlZ29yeURpc3BsYXlOYW1lIjoiRGVmYXVsdCIsIm9yZGVyYWJsZUNhdGVnb3J5RGlzcGxheU9yZGVyIjowLCJhY3RpdmUiOnRydWUsImZ1bGxTdXBwbHkiOnRydWUsImRpc3BsYXlPcmRlciI6MCwiZG9zZXNQZXJQYXRpZW50IjpudWxsLCJwcmljZVBlclBhY2siOjI0LjQ4fV0sImRpc3BlbnNhYmxlIjp7ImRpc3BlbnNpbmdVbml0IjoiZWFjaCIsImRpc3BsYXlVbml0IjoiZWFjaCJ9LCJleHRyYURhdGEiOnsiaXNCYXNpYyI6InRydWUifSwibWV0YSI6eyJ2ZXJzaW9uTnVtYmVyIjozLCJsYXN0VXBkYXRlZCI6IjIwMjItMDktMTNUMDc6NDc6MjkuMDgzWiJ9LCJpc0tpdCI6ZmFsc2V9LCJvcmRlcmVkUXVhbnRpdHkiOjUwLCJ0b3RhbERpc3BlbnNpbmdVbml0cyI6NTAsInBhcnRpYWxGdWxmaWxsZWRRdWFudGl0eSI6MCwic2tpcHBlZCI6ZmFsc2UsImFkZGVkIjpmYWxzZX1dLCJzdGF0dXNNZXNzYWdlcyI6W10sInN0YXR1c0NoYW5nZXMiOlt7InN0YXR1cyI6IklOX0FQUFJPVkFMIiwiYXV0aG9ySWQiOiI3OWYzYTMxZi1mYzI2LTQ2NDAtYWY4Zi00OGIxYzMyMmExNGUiLCJjcmVhdGVkRGF0ZSI6IjIwMjItMDktMjNUMDY6MTY6NDQuMDM5WiJ9LHsic3RhdHVzIjoiQVBQUk9WRUQiLCJhdXRob3JJZCI6ImJhZDMyYTYzLTYwMWUtNGVkMy1hNjYxLTYyMTgyMjA5YTgyNSIsImNyZWF0ZWREYXRlIjoiMjAyMi0wOS0yM1QwNjoxNzozNC4wMTdaIn0seyJzdGF0dXMiOiJJTklUSUFURUQiLCJhdXRob3JJZCI6ImQ4NTk3ZTBiLTQzYzAtNDBkNi1hY2MyLTAwNjc1YjIwZTVjMCIsImNyZWF0ZWREYXRlIjoiMjAyMi0wOS0yM1QwNjoxMjo1Mi43NloifSx7InN0YXR1cyI6IlJFTEVBU0VEIiwiYXV0aG9ySWQiOiJiYWQzMmE2My02MDFlLTRlZDMtYTY2MS02MjE4MjIwOWE4MjUiLCJjcmVhdGVkRGF0ZSI6IjIwMjItMDktMjNUMDY6MTg6MjAuMDU4WiJ9LHsic3RhdHVzIjoiU1VCTUlUVEVEIiwiYXV0aG9ySWQiOiJkODU5N2UwYi00M2MwLTQwZDYtYWNjMi0wMDY3NWIyMGU1YzAiLCJjcmVhdGVkRGF0ZSI6IjIwMjItMDktMjNUMDY6MTM6MzMuNTcyWiJ9LHsic3RhdHVzIjoiQVVUSE9SSVpFRCIsImF1dGhvcklkIjoiZTgwNjI0MDItODZkMC00YzYyLWFkNmMtODVlNTgzNWJhZWU5IiwiY3JlYXRlZERhdGUiOiIyMDIyLTA5LTIzVDA2OjE1OjA5LjI5WiJ9XSwibGFzdFVwZGF0ZXIiOnsiaWQiOiJiYWQzMmE2My02MDFlLTRlZDMtYTY2MS02MjE4MjIwOWE4MjUiLCJocmVmIjoibnVsbC9hcGkvdXNlcnMvYmFkMzJhNjMtNjAxZS00ZWQzLWE2NjEtNjIxODIyMDlhODI1In0sImxhc3RVcGRhdGVkRGF0ZSI6IjIwMjItMDktMjNUMDY6MTg6MjAuMzJaIiwicmVxdWlzaXRpb25OdW1iZXIiOiJSTlItTk8wMTAxMDE5ODAwMDAwMDIifSwic2hpcHBlZEJ5IjpudWxsLCJzaGlwcGVkRGF0ZSI6bnVsbCwibm90ZXMiOm51bGwsImxpbmVJdGVtcyI6W3siaWQiOiI2ZDhlNWIyMC1mNGMxLTRiZWQtODEwNS01YWFmMmM4YWJhOTQiLCJsb3QiOnsiaWQiOiI3NDRiYmZmOC1lMWVhLTUwNGItODk1My0wMWMyODBmOTNlMWMiLCJocmVmIjoiaHR0cDovL2Rldi5zaWdsdXMudXMuaW50ZXJuYWwvYXBpL2xvdHMvNzQ0YmJmZjgtZTFlYS01MDRiLTg5NTMtMDFjMjgwZjkzZTFjIn0sImxvY2F0aW9uIjpudWxsLCJxdWFudGl0eVNoaXBwZWQiOjEwLCJleHRyYURhdGEiOm51bGwsIm9yZGVyYWJsZSI6eyJpZCI6ImRhYzZkOWU2LWQ0NzItNDhhZS1hYmE5LWFlODgyZTgxYTI4ZSIsImhyZWYiOiJodHRwOi8vZGV2LnNpZ2x1cy51cy5pbnRlcm5hbC9hcGkvb3JkZXJhYmxlcy9kYWM2ZDllNi1kNDcyLTQ4YWUtYWJhOS1hZTg4MmU4MWEyOGUiLCJ2ZXJzaW9uTnVtYmVyIjozfX0seyJpZCI6IjI2OGQ0MGI4LWRkMmYtNDc2ZC05ODRjLTRlZjJmMzI3ZmZiMyIsImxvdCI6eyJpZCI6ImM2NjE3MTU5LWQwOGUtNWRiYy1iMWJlLWU2ZmJlMDk2MTZhNCIsImhyZWYiOiJodHRwOi8vZGV2LnNpZ2x1cy51cy5pbnRlcm5hbC9hcGkvbG90cy9jNjYxNzE1OS1kMDhlLTVkYmMtYjFiZS1lNmZiZTA5NjE2YTQifSwibG9jYXRpb24iOm51bGwsInF1YW50aXR5U2hpcHBlZCI6MjAsImV4dHJhRGF0YSI6bnVsbCwib3JkZXJhYmxlIjp7ImlkIjoiZDFjMzNkMjAtYWU1MC00N2ZhLThkNzAtNTc5NzI0Y2U5M2JiIiwiaHJlZiI6Imh0dHA6Ly9kZXYuc2lnbHVzLnVzLmludGVybmFsL2FwaS9vcmRlcmFibGVzL2QxYzMzZDIwLWFlNTAtNDdmYS04ZDcwLTU3OTcyNGNlOTNiYiIsInZlcnNpb25OdW1iZXIiOjN9fSx7ImlkIjoiMWEyZGE3YzctMGMyNi00NDM3LTgxMDUtZDkzNDNjZjRlYjA5IiwibG90Ijp7ImlkIjoiNDY3ZjcwZTQtOTRmNC01N2UwLTgzYWItNjU0MGI2ODk2M2E1IiwiaHJlZiI6Imh0dHA6Ly9kZXYuc2lnbHVzLnVzLmludGVybmFsL2FwaS9sb3RzLzQ2N2Y3MGU0LTk0ZjQtNTdlMC04M2FiLTY1NDBiNjg5NjNhNSJ9LCJsb2NhdGlvbiI6bnVsbCwicXVhbnRpdHlTaGlwcGVkIjowLCJleHRyYURhdGEiOm51bGwsIm9yZGVyYWJsZSI6eyJpZCI6ImIxMjM2YzY4LWE3YjEtNDEwMS1hYTljLTAwMDZmMDZkMGVlYiIsImhyZWYiOiJodHRwOi8vZGV2LnNpZ2x1cy51cy5pbnRlcm5hbC9hcGkvb3JkZXJhYmxlcy9iMTIzNmM2OC1hN2IxLTQxMDEtYWE5Yy0wMDA2ZjA2ZDBlZWIiLCJ2ZXJzaW9uTnVtYmVyIjoyfX0seyJpZCI6IjVjMGU3ZWVlLWIzZjMtNDZhMC1hMzg2LTc1Yjc2ZDUxMjllYiIsImxvdCI6eyJpZCI6ImI5MWQ2MGRmLWE3ZWMtNWMzMS05MjI1LThiZTQzZWY3ZmFiMiIsImhyZWYiOiJodHRwOi8vZGV2LnNpZ2x1cy51cy5pbnRlcm5hbC9hcGkvbG90cy9iOTFkNjBkZi1hN2VjLTVjMzEtOTIyNS04YmU0M2VmN2ZhYjIifSwibG9jYXRpb24iOm51bGwsInF1YW50aXR5U2hpcHBlZCI6MCwiZXh0cmFEYXRhIjpudWxsLCJvcmRlcmFibGUiOnsiaWQiOiI2M2I4YTBiYy01NDI3LTQ2ZTUtYjk1MS03MzJkN2IxZDVjMWQiLCJocmVmIjoiaHR0cDovL2Rldi5zaWdsdXMudXMuaW50ZXJuYWwvYXBpL29yZGVyYWJsZXMvNjNiOGEwYmMtNTQyNy00NmU1LWI5NTEtNzMyZDdiMWQ1YzFkIiwidmVyc2lvbk51bWJlciI6M319XSwiZXh0cmFEYXRhIjpudWxsLCJyb3dzV2l0aFVucmVzb2x2ZWRPcmRlcmFibGUiOm51bGx9LCJwcmVwYXJlZEJ5IjoicHJlcGFyZWQxIiwiY29uZmVycmVkQnkiOiJjb25mZXJyZWQyIn0sImNvbnZlcnRUb09yZGVyUmVxdWVzdCI6eyJyZXF1aXNpdGlvbk51bWJlciI6IlJOUi1OTzAxMDEwMTk4MDAwMDAwMiIsInJlcXVpc2l0aW9uTGluZUl0ZW1zIjpbeyJvcmRlcmFibGUiOnsiaWQiOiJkYWM2ZDllNi1kNDcyLTQ4YWUtYWJhOS1hZTg4MmU4MWEyOGUiLCJ2ZXJzaW9uTnVtYmVyIjozfSwiYXBwcm92ZWRRdWFudGl0eSI6NTB9LHsib3JkZXJhYmxlIjp7ImlkIjoiZDFjMzNkMjAtYWU1MC00N2ZhLThkNzAtNTc5NzI0Y2U5M2JiIiwidmVyc2lvbk51bWJlciI6M30sImFwcHJvdmVkUXVhbnRpdHkiOjUwfSx7Im9yZGVyYWJsZSI6eyJpZCI6ImIxMjM2YzY4LWE3YjEtNDEwMS1hYTljLTAwMDZmMDZkMGVlYiIsInZlcnNpb25OdW1iZXIiOjJ9LCJhcHByb3ZlZFF1YW50aXR5Ijo1MH0seyJvcmRlcmFibGUiOnsiaWQiOiI2M2I4YTBiYy01NDI3LTQ2ZTUtYjk1MS03MzJkN2IxZDVjMWQiLCJ2ZXJzaW9uTnVtYmVyIjozfSwiYXBwcm92ZWRRdWFudGl0eSI6NTB9XSwiZmlyc3RPcmRlciI6eyJpZCI6IjY3YWIzMGRlLWEyMzktNDg2Ni1iMTE4LTc0NGFhNDY4ODBlMCIsImV4dGVybmFsSWQiOiIyZWU2M2ZhOC04YjY2LTRkNTMtOTdhZS05NDJmODEyNzMzYTkiLCJlbWVyZ2VuY3kiOmZhbHNlLCJmYWNpbGl0eUlkIjoiZmZkOGM3ZDMtMDA3Ny00MzZmLTgwOGYtMDlkMDFkODJmZmNlIiwicHJvY2Vzc2luZ1BlcmlvZElkIjoiNDU0ZTMyNzMtYzg4Mi00MDg1LWExNTMtY2QxODMyNGY1ZTUzIiwiY3JlYXRlZERhdGUiOiIyMDIyLTA5LTIzVDA2OjE4OjIwLjM3NloiLCJjcmVhdGVkQnlJZCI6ImJhZDMyYTYzLTYwMWUtNGVkMy1hNjYxLTYyMTgyMjA5YTgyNSIsInByb2dyYW1JZCI6ImRjZTE3ZjJlLWFmM2UtNDBhZC04ZTAwLTM0OTZhZGVmNDRjMyIsInJlcXVlc3RpbmdGYWNpbGl0eUlkIjoiZmZkOGM3ZDMtMDA3Ny00MzZmLTgwOGYtMDlkMDFkODJmZmNlIiwicmVjZWl2aW5nRmFjaWxpdHlJZCI6ImZmZDhjN2QzLTAwNzctNDM2Zi04MDhmLTA5ZDAxZDgyZmZjZSIsInN1cHBseWluZ0ZhY2lsaXR5SWQiOiJmNzkxM2U3ZC01NGQzLTRmZmUtODJjNi0zNWI1MmUyYmFiNTAiLCJvcmRlckNvZGUiOiJPUkRFTS0yUllGNDNMTlIiLCJzdGF0dXMiOiJGVUxGSUxMSU5HIiwicXVvdGVkQ29zdCI6MC4wMCwib3JkZXJMaW5lSXRlbXMiOlt7ImlkIjoiNTI2NzVmMWEtMTgwYS00OTBhLWE1MzMtZjk4ZjFjYjgwYjEyIiwib3JkZXIiOiI2N2FiMzBkZS1hMjM5LTQ4NjYtYjExOC03NDRhYTQ2ODgwZTAiLCJvcmRlcmFibGUiOnsiaWQiOiJkYWM2ZDllNi1kNDcyLTQ4YWUtYWJhOS1hZTg4MmU4MWEyOGUiLCJ2ZXJzaW9uTnVtYmVyIjozfSwib3JkZXJlZFF1YW50aXR5Ijo1MH0seyJpZCI6IjliOWEzNWY1LTNjNTgtNDVkYy04ZGJjLWVkYTJmNWM5M2M2MiIsIm9yZGVyIjoiNjdhYjMwZGUtYTIzOS00ODY2LWIxMTgtNzQ0YWE0Njg4MGUwIiwib3JkZXJhYmxlIjp7ImlkIjoiZDFjMzNkMjAtYWU1MC00N2ZhLThkNzAtNTc5NzI0Y2U5M2JiIiwidmVyc2lvbk51bWJlciI6M30sIm9yZGVyZWRRdWFudGl0eSI6NTB9LHsiaWQiOiI4ZDhiZjU0Yi01OTZjLTRjYWUtYWI4My1lNjUxYTFiNTE2OTYiLCJvcmRlciI6IjY3YWIzMGRlLWEyMzktNDg2Ni1iMTE4LTc0NGFhNDY4ODBlMCIsIm9yZGVyYWJsZSI6eyJpZCI6ImIxMjM2YzY4LWE3YjEtNDEwMS1hYTljLTAwMDZmMDZkMGVlYiIsInZlcnNpb25OdW1iZXIiOjJ9LCJvcmRlcmVkUXVhbnRpdHkiOjUwfSx7ImlkIjoiNDUwMmM1NjYtZDhiOS00YThjLTgwNDEtOWMyYTY0NGYxMDQ0Iiwib3JkZXIiOiI2N2FiMzBkZS1hMjM5LTQ4NjYtYjExOC03NDRhYTQ2ODgwZTAiLCJvcmRlcmFibGUiOnsiaWQiOiI2M2I4YTBiYy01NDI3LTQ2ZTUtYjk1MS03MzJkN2IxZDVjMWQiLCJ2ZXJzaW9uTnVtYmVyIjozfSwib3JkZXJlZFF1YW50aXR5Ijo1MH1dLCJzdGF0dXNNZXNzYWdlcyI6W10sInN0YXR1c0NoYW5nZXMiOlt7ImlkIjoiODRiNGZjMzQtZDI3YS00ZGU3LTg0N2YtYmY5NzMxYTgxMmYyIiwib3JkZXIiOiI2N2FiMzBkZS1hMjM5LTQ4NjYtYjExOC03NDRhYTQ2ODgwZTAiLCJzdGF0dXMiOiJJTl9BUFBST1ZBTCIsImF1dGhvcklkIjoiNzlmM2EzMWYtZmMyNi00NjQwLWFmOGYtNDhiMWMzMjJhMTRlIiwiY3JlYXRlZERhdGUiOiIyMDIyLTA5LTIzVDA2OjE2OjQ0LjAzOVoifSx7ImlkIjoiNTYxNTRmMzItYTU4Ni00NTBiLWJlN2MtOTJkYTU2MDlmZGQ5Iiwib3JkZXIiOiI2N2FiMzBkZS1hMjM5LTQ4NjYtYjExOC03NDRhYTQ2ODgwZTAiLCJzdGF0dXMiOiJBUFBST1ZFRCIsImF1dGhvcklkIjoiYmFkMzJhNjMtNjAxZS00ZWQzLWE2NjEtNjIxODIyMDlhODI1IiwiY3JlYXRlZERhdGUiOiIyMDIyLTA5LTIzVDA2OjE3OjM0LjAxN1oifSx7ImlkIjoiNzRiMjcxOGItMjViZS00YmM0LWI0YmMtYmNmMDY3ODBmZWFjIiwib3JkZXIiOiI2N2FiMzBkZS1hMjM5LTQ4NjYtYjExOC03NDRhYTQ2ODgwZTAiLCJzdGF0dXMiOiJJTklUSUFURUQiLCJhdXRob3JJZCI6ImQ4NTk3ZTBiLTQzYzAtNDBkNi1hY2MyLTAwNjc1YjIwZTVjMCIsImNyZWF0ZWREYXRlIjoiMjAyMi0wOS0yM1QwNjoxMjo1Mi43NloifSx7ImlkIjoiODIzNzUyNGUtZDc3OS00MjNmLWIyYzAtNmEwNDJlMTNlZTg4Iiwib3JkZXIiOiI2N2FiMzBkZS1hMjM5LTQ4NjYtYjExOC03NDRhYTQ2ODgwZTAiLCJzdGF0dXMiOiJSRUxFQVNFRCIsImF1dGhvcklkIjoiYmFkMzJhNjMtNjAxZS00ZWQzLWE2NjEtNjIxODIyMDlhODI1IiwiY3JlYXRlZERhdGUiOiIyMDIyLTA5LTIzVDA2OjE4OjIwLjA1OFoifSx7ImlkIjoiODE4ZmE3NWMtZmI3Yi00ZjMwLThmNzMtZGNjOGViOTUxNzMzIiwib3JkZXIiOiI2N2FiMzBkZS1hMjM5LTQ4NjYtYjExOC03NDRhYTQ2ODgwZTAiLCJzdGF0dXMiOiJTVUJNSVRURUQiLCJhdXRob3JJZCI6ImQ4NTk3ZTBiLTQzYzAtNDBkNi1hY2MyLTAwNjc1YjIwZTVjMCIsImNyZWF0ZWREYXRlIjoiMjAyMi0wOS0yM1QwNjoxMzozMy41NzJaIn0seyJpZCI6IjlhZDU0MDc4LTliNjEtNGY1Ny1hNTA1LWM2ZDMxMzg1YmMwMiIsIm9yZGVyIjoiNjdhYjMwZGUtYTIzOS00ODY2LWIxMTgtNzQ0YWE0Njg4MGUwIiwic3RhdHVzIjoiQVVUSE9SSVpFRCIsImF1dGhvcklkIjoiZTgwNjI0MDItODZkMC00YzYyLWFkNmMtODVlNTgzNWJhZWU5IiwiY3JlYXRlZERhdGUiOiIyMDIyLTA5LTIzVDA2OjE1OjA5LjI5WiJ9XSwidXBkYXRlRGV0YWlscyI6eyJ1cGRhdGVySWQiOiJiYWQzMmE2My02MDFlLTRlZDMtYTY2MS02MjE4MjIwOWE4MjUiLCJ1cGRhdGVkRGF0ZSI6IjIwMjItMDktMjNUMDY6MTg6MzIuNDc0WiJ9LCJvcmRlcmVkIjpmYWxzZSwiZXh0ZXJuYWwiOmZhbHNlfX0sIm5lZWRDb252ZXJ0VG9PcmRlciI6dHJ1ZSwiaXNTdWJPcmRlciI6dHJ1ZSwiaXNXaXRoTG9jYXRpb24iOmZhbHNlfSwib25saW5lV2ViU3luY2VkIjpmYWxzZSwicmVjZWl2ZXJTeW5jZWQiOmZhbHNlLCJsb2NhbFJlcGxheWVkIjp0cnVlfSwicGF5bG9hZENsYXNzTmFtZSI6Ik9yZGVyRnVsZmlsbG1lbnRTeW5jZWRFdmVudCJ9XQ==\"}";

  @Test
  public void shouldGenerateZipWhenExport() throws IOException {
    // given
    File tempDir = Files.createTempDirectory("event-export").toFile();
    ReflectionTestUtils.setField(localExportImportService, "zipExportPath", tempDir.getAbsolutePath());
    when(eventStore.getEventsForExport(homeFacilityId)).thenReturn(buildMockEvents());
    when(siglusFacilityService.getFacilityIdToName(
        Sets.newHashSet(receiverId1, receiverId2, homeFacilityId))).thenReturn(buildMockFacilityIdToName());
    when(authenticationHelper.getCurrentUser()).thenReturn(buildMockUserDto());
    when(externalEventDtoSerializer.dump(anyList())).thenReturn(buildMockData());

    // when
    HttpServletResponse httpServletResponse = new MockHttpServletResponse();
    localExportImportService.exportEvents(httpServletResponse);

    // then
    verify(siglusFacilityService).getFacilityIdToName(anySet());
    verify(eventStore).getEventsForExport(homeFacilityId);
  }

  @Test(expected = BusinessDataException.class)
  public void shouldThrowWhenImportGivenExportedEventEmpty() throws IOException {
    // given
    File tempDir = Files.createTempDirectory("event-export").toFile();
    ReflectionTestUtils.setField(localExportImportService, "zipExportPath", tempDir.getAbsolutePath());
    when(eventStore.getEventsForExport(homeFacilityId)).thenReturn(Lists.newArrayList());
    when(siglusFacilityService.getFacilityIdToName(
        Sets.newHashSet(receiverId1, receiverId2, homeFacilityId))).thenReturn(buildMockFacilityIdToName());
    when(authenticationHelper.getCurrentUser()).thenReturn(buildMockUserDto());

    // when
    HttpServletResponse httpServletResponse = new MockHttpServletResponse();
    localExportImportService.exportEvents(httpServletResponse);
  }

  @Test
  public void shouldSuccessWhenImport() throws Exception {
    // given
    when(authenticationHelper.getCurrentUser()).thenReturn(buildMockUserDto());
    when(externalEventDtoSerializer.loadList(any())).thenReturn(buildMockExternalEventDtos());

    MultipartFile multipartFile = mock(MultipartFile.class);
    when(multipartFile.getOriginalFilename()).thenReturn("test.dat");
    InputStream inputStream = new ByteArrayInputStream(correctImput.getBytes());
    when(multipartFile.getInputStream()).thenReturn(inputStream);
    MultipartFile[] multipartFiles = Arrays.array(multipartFile);

    // when
    localExportImportService.importEvents(multipartFiles);

    // then
    verify(eventImporter).importEvents(anyList());
  }

  @Test(expected = BusinessDataException.class)
  public void shouldThrowWhenImportGivenWrongFileSuffix() {
    // given
    when(authenticationHelper.getCurrentUser()).thenReturn(buildMockUserDto());
    when(externalEventDtoSerializer.loadList(any())).thenReturn(buildMockExternalEventDtos());

    MultipartFile multipartFile = mock(MultipartFile.class);
    when(multipartFile.getOriginalFilename()).thenReturn("test.txt");
    MultipartFile[] multipartFiles = Arrays.array(multipartFile);

    // when
    localExportImportService.importEvents(multipartFiles);
  }

  @Test(expected = BusinessDataException.class)
  public void shouldThrowWhenImportGivenWrongChecksum() throws Exception {
    // given
    when(authenticationHelper.getCurrentUser()).thenReturn(buildMockUserDto());
    given(eventFileReader.readAll(any())).willThrow(new ChecksumNotMatchedException("invalid checksum"));

    MultipartFile multipartFile = mock(MultipartFile.class);
    when(multipartFile.getOriginalFilename()).thenReturn("test.dat");
    InputStream inputStream = new ByteArrayInputStream(wrongImput.getBytes());
    when(multipartFile.getInputStream()).thenReturn(inputStream);
    MultipartFile[] multipartFiles = Arrays.array(multipartFile);

    // when
    localExportImportService.importEvents(multipartFiles);
  }

  @Test(expected = BusinessDataException.class)
  public void shouldThrowWhenImportGivenWrongReceiver() throws Exception {
    // given
    when(authenticationHelper.getCurrentUser()).thenReturn(buildMockUserDto());
    given(eventFileReader.readAll(any())).willReturn(buildMockExternalEventDtosWithWrongReciecerId());

    MultipartFile multipartFile = mock(MultipartFile.class);
    when(multipartFile.getOriginalFilename()).thenReturn("test.dat");
    InputStream inputStream = new ByteArrayInputStream(correctImput.getBytes());
    when(multipartFile.getInputStream()).thenReturn(inputStream);
    MultipartFile[] multipartFiles = Arrays.array(multipartFile);

    // when
    localExportImportService.importEvents(multipartFiles);
  }

  private byte[] buildMockData() {
    return "data".getBytes();
  }

  private UserDto buildMockUserDto() {
    UserDto userDto = new UserDto();
    userDto.setId(userId);
    userDto.setHomeFacilityId(homeFacilityId);
    return userDto;
  }

  private List<Event> buildMockEvents() {
    Event event1 = Event.builder()
        .receiverId(receiverId1)
        .build();

    Event event2 = Event.builder()
        .receiverId(receiverId1)
        .build();
    return Lists.newArrayList(event1, event2);
  }

  private List<ExternalEventDto> buildMockExternalEventDtos() {
    ExternalEventDto dto1 = ExternalEventDto.builder()
        .event(Event.builder()
            .receiverId(homeFacilityId)
            .build())
        .build();

    ExternalEventDto dto2 = ExternalEventDto.builder()
        .event(Event.builder()
            .receiverId(homeFacilityId)
            .build())
        .build();

    return Lists.newArrayList(dto1, dto2);
  }

  private List<Event> buildMockExternalEventDtosWithWrongReciecerId() {
    Event dto1 = Event.builder().receiverId(receiverId1).build();
    Event dto2 = Event.builder().receiverId(homeFacilityId).build();
    return Lists.newArrayList(dto1, dto2);
  }

  private Map<UUID, String> buildMockFacilityIdToName() {
    Map<UUID, String> facilityIdToName = Maps.newHashMap();
    facilityIdToName.put(receiverId1, "receiverCode1");
    facilityIdToName.put(receiverId2, "receiverCode2");
    facilityIdToName.put(homeFacilityId, "homeFacilityCode");
    return facilityIdToName;
  }

}
